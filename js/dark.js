!function(){function e(){t.matches?(document.body.classList.add("dark"),localStorage.setItem("dark",!0)):(document.body.classList.remove("dark"),localStorage.setItem("dark",!1));c({true:"dark",false:"light"}[t.matches])}let t=window.matchMedia("(prefers-color-scheme: dark)");e();let r=t=>{e()};"function"==typeof t.addEventListener?t.addEventListener("change",r):"function"==typeof t.addListener&&t.addListener(r);var a,o=localStorage.getItem("dark");function d(e){"true"===e.toString()?document.body.classList.add("dark"):document.body.classList.remove("dark")}function n(){d(o=!o||"true"!==o.toString()),localStorage.setItem("dark",o);c({true:"dark",false:"light"}[o])}function c(e){document.querySelectorAll("picture > source[data-cloned-theme]").forEach((e=>{e.remove()})),e&&document.querySelectorAll(`picture > source[media*="(prefers-color-scheme: ${e})"]`).forEach((t=>{const r=t.cloneNode();r.removeAttribute("media"),r.setAttribute("data-cloned-theme",e),r.setAttribute("class","lg_img"),t.parentNode.prepend(r);var a=setInterval((function(){"gallery-item"===t.parentNode.parentNode.classList.value&&(t.parentNode.parentNode.setAttribute("href",r.srcset),clearInterval(a))}),100)}))}!function e(){if(a=document.getElementById("dark-nav")){a.addEventListener("click",n);c({true:"dark",false:"light"}[o])}else setTimeout(e,100)}(),o&&d(o)}();