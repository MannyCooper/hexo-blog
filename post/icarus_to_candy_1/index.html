<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>创造 CANDY 主题，只为更好的交互 - 安子璠的个人主页</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="安子璠的个人主页"><meta name="msapplication-TileImage" content="/img/favicon-32x32.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="安子璠的个人主页"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="基于 ICARUS 主题重新思考并设计个人博客。"><meta property="og:type" content="blog"><meta property="og:title" content="创造 CANDY 主题，只为更好的交互"><meta property="og:url" content="https://anzifan.com/post/icarus_to_candy_1/"><meta property="og:site_name" content="安子璠的个人主页"><meta property="og:description" content="基于 ICARUS 主题重新思考并设计个人博客。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://static.anzifan.com/uPic/c_l_1.png"><meta property="article:published_time" content="2020-11-18T22:00:00.000Z"><meta property="article:modified_time" content="2020-11-23T18:23:08.721Z"><meta property="article:author" content="安子璠"><meta property="article:tag" content="Hexo"><meta property="article:tag" content="博客主题"><meta property="article:tag" content="交互设计"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://static.anzifan.com/uPic/c_l_1.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://anzifan.com/post/icarus_to_candy_1/"},"headline":"安子璠的个人主页","image":["https://static.anzifan.com/uPic/c_l_1.png"],"datePublished":"2020-11-18T22:00:00.000Z","dateModified":"2020-11-23T18:23:08.721Z","author":{"@type":"Person","name":"安子璠"},"description":"基于 ICARUS 主题重新思考并设计个人博客。"}</script><link rel="canonical" href="https://anzifan.com/post/icarus_to_candy_1/"><link rel="alternate" href="/atom.xml" title="安子璠的个人主页" type="application/atom+xml"><link rel="icon" href="/img/favicon-32x32.png"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?cba64d0811724e0e4763bd8a13059f1a";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-168668701-2" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-168668701-2');</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.2.0"></head><body class="is-3-column"><script type="text/javascript" src="/js/dark.js"></script><nav class="navbar navbar-main"><div class="container"><div class="navbar-menu"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo_small.png" alt="安子璠的个人主页" height="28"></a><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">存档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item dark" id="dark-nav" title="Dark Mode" href="javascript:;"><i class="fas fa-moon" id="dark-icon"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="controller"></div><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="https://static.anzifan.com/uPic/c_l_1.png" alt="创造 CANDY 主题，只为更好的交互"><img class="fill_dark" src="https://static.anzifan.com/uPic/c_d_1.png" alt="创造 CANDY 主题，只为更好的交互"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt">&nbsp;&nbsp;</i><time dateTime="2020-11-18T22:00:00.000Z" title="2020-11-18T22:00:00.000Z">2020-11-19</time>发表</span><span class="level-item"><i class="far fa-folder-open">  </i><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span> / </span><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/%E5%89%8D%E7%AB%AF/">前端</a></span><span class="level-item"><i class="far fa-clock">  </i>31 分钟读完 (大约 4593 个字)</span><span class="level-item leancloud_visitors" id="/post/icarus_to_candy_1/" data-flag-title="创造 CANDY 主题，只为更好的交互"><i class="far fa-eye"></i>&nbsp;&nbsp;<span id="twikoo_visitors"><i class="fa fa-spinner fa-spin"></i></span> 次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">创造 CANDY 主题，只为更好的交互</h1><div class="content"><article class="message is-info">   <div class="message-header">  <i class="fas fa-info-circle mr-2"></i>   <p>📚本系列文章，将会分成四个板块更新：</p>  </div>   <div class="message-body"> 
<ol><li><a href="/post/icarus_to_candy_1/"><strong>基础设计修改</strong><span class="icon has-text-success">
  <i class="fas fa-check-square"></i>
</span></a></li>
<li>配置 Twikoo 评论</li>
<li>增加深色模式支持</li>
<li>其他细节与模块</li>
</ol></d/iv> </article>
<style>.message-header {
  justify-content: start !important;
}
  .message.is-info{
    width: 50%;
float: right;
margin-left: 20px;
    margin-bottom: 11px !important;
  }
  @media screen and (max-width: 768px){
    .message.is-info{
    width: 100%;
float: none;
margin-left: 0;
  }
  }
</style>
<p>众所周知，Icarus<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> 是一个非常优秀的 Hexo 主题。它不仅提供清爽、简洁的界面，还与各种主流插件、组件兼容的很好。更令人欣喜的是——它几乎是最活跃的 Hexo 主题之一，有着非常良好的社区氛围。作者时刻保持更新，并提供了非常完善的文档。</p>
<p>种种因素使我最终选择了它，并准备在其基础上修改出自己满意的设计，我将其命名为 <strong>Candy</strong>，并将在 <a target="_blank" rel="noopener" href="https://github.com/MannyCooper/hexo-theme-candy">GitHub</a> 上与 Icarus 保持更新。本文将是这一系列文章的第一节——基础设计修改。</p>
<article class="message message-immersive is-warning">
  <div class="message-body">
    <i class="fas fa-exclamation-triangle"></i>
    本人前端零基础，如有不妥，请在<a href="#twikoo">评论区</a>教我做事，谢谢🙏
  </div>
</article>
<h2 id="真正的卡片式设计——让最频繁的交互更人性化">真正的卡片式设计——让最频繁的交互更人性化</h2>
<h3 id="分析">分析</h3>
<p>Icarus 主题很美观，但对我来说它与许多 Hexo 主题一样都存在一个核心问题，即首页的文章如需访问全文，需要点击 <code>Read More</code> 按钮、图片或标题才可以进入，而点击主文字或卡片空白处是没有反应的，恰好很多博主喜欢把摘要写成长篇大论，此时的 <code>Read More</code> 按钮看起来更小，很容易被忽视，点击大段文字也许是很多读者的第一反应，虽然这并不会得到任何回应。</p>
<picture>
    <source srcset="https://static.anzifan.com/uPic/1_long_abstract_dark.png" media="(prefers-color-scheme: dark)">
    <source srcset="https://static.anzifan.com/uPic/1_long_abstract.png" media="(prefers-color-scheme: light)">
    <img class="adapt" src="https://static.anzifan.com/uPic/1_long_abstract.png" alt="大佬们的博客，长长的「摘要」使 Read More 按钮显得特别小">
</picture>
<p><strong>点击、进入全文，这应该是每个博客最频繁的交互。</strong>尴尬的小按钮难免给读者造成一些细微的障碍，当然如果对自己的内容足够自信，或者没那么讲究的话，你就可以跳过这一节了。</p>
<h3 id="尝试">尝试</h3>
<p>为了达成真正的卡片效果，我探索过一些方法。</p>
<p>我的第一反应是在 <code>&lt;article&gt;</code> 标签外套一层 <code>&lt;a&gt;</code> 标签然后设置 <code>href</code> 属性，同时 <code>&lt;article&gt;</code> 要设置成块级元素。于是我便在 <code>layout/common/article.jsx</code> 中这样修改：</p>
<pre><div class="caption"><span>layout/common/article.jsx</span></div><code class="hljs jsx">&lt;a <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;card-link&quot;</span> href=&#123;index ? url_for(page.link || page.path):<span class="hljs-literal">null</span>&#125;&gt;
  &lt;article <span class="hljs-class"><span class="hljs-keyword">class</span></span>=&#123;<span class="hljs-string">`card-content article<span class="hljs-subst">$&#123;<span class="hljs-string">&#x27;direction&#x27;</span> <span class="hljs-keyword">in</span> page ? <span class="hljs-string">&#x27; &#x27;</span> + page.direction : <span class="hljs-string">&#x27;&#x27;</span>&#125;</span>`</span>&#125; role=<span class="hljs-string">&quot;article&quot;</span>&gt;
  ...
  &lt;/article&gt;
&lt;/a&gt;</code></pre>
<p>感觉非常合理，但其实并不行，如果这样操作，在实际页面中，<code>&lt;a&gt;</code> 标签并不会正确包裹，反而会被添加到 <code>&lt;article&gt;</code> 元素下每个子元素的首位。我并不确定是什么原因，但是根据 Stack Overflow 上的一篇<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/38367002/make-entire-article-tag-a-link/38367067#38367067">回答</a>中的评论：</p>
<blockquote>
<p>You should really point out (by suggesting this way) that: using this solution you <strong>cannot have other Anchor elements inside the article</strong>. – <a target="_blank" rel="noopener" href="https://stackoverflow.com/users/383904/roko-c-buljan">Roko C. Buljan</a> <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/38367002/make-entire-article-tag-a-link/38367067#comment64146037_38367067">Jul 14 '16 at 6:51</a></p>
</blockquote>
<p>貌似如果想这样操作的话，子元素不能再有其他 <code>&lt;a&gt;</code> 元素。我便以为是不可以的，当时就作罢了。</p>
<p>接下来，我尝试在外面先套一层 <code>&lt;object&gt;</code> 标签，再套 <code>&lt;a&gt;</code> 标签链接到正文，这样我们就实现了整张卡片可点击的效果。</p>
<pre><div class="caption"><span>layout/common/article.jsx</span></div><code class="hljs jsx">&lt;a <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;card-link&quot;</span> href=&#123;index ? url_for(page.link || page.path):<span class="hljs-literal">null</span>&#125;&gt;
  &lt;object <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;card-object&quot;</span>&gt;
    &lt;article <span class="hljs-class"><span class="hljs-keyword">class</span></span>=&#123;<span class="hljs-string">`card-content article<span class="hljs-subst">$&#123;<span class="hljs-string">&#x27;direction&#x27;</span> <span class="hljs-keyword">in</span> page ? <span class="hljs-string">&#x27; &#x27;</span> + page.direction : <span class="hljs-string">&#x27;&#x27;</span>&#125;</span>`</span>&#125; role=<span class="hljs-string">&quot;article&quot;</span>&gt;
      ...
    &lt;/article&gt;
  &lt;/object&gt;
&lt;/a&gt;</code></pre>
<p>这样确实可以了，本来这一段到这里就结束了，但我想起了<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/object">文档</a>里对 <code>&lt;object&gt;</code> 标签的描述：</p>
<blockquote>
<p><strong>HTML <code>&lt;object&gt;</code> 元素</strong>（或者称作 <em>HTML 嵌入对象元素</em>）表示引入一个<strong>外部资源</strong>，这个资源可能是一张图片，一个嵌入的浏览上下文，亦或是一个插件所使用的资源。</p>
</blockquote>
<p>啊这，有一丝隐隐的不安<img src="https://static.anzifan.com/uPic/1_meme_cat_think.jpeg" style="zoom:15%;" />。迅速查了下 SEO，发现目前 Google 是会索引 <code>object</code> 元素的，但心里就是不舒服，毕竟不太符合语义。</p>
<p>于是乎，就换来了接下来的方法，也是最终的实现方法。</p>
<h3 id="解法">解法</h3>
<p>这种方法的思路其实和第一种是一致的，但是具体实现有区别，这次我们不在 <code>article.jsx</code> 里修改了，直接在 <code>source/js/main.js</code> 最底下添加：</p>
<pre><code class="hljs js"><span class="hljs-keyword">if</span> ($(<span class="hljs-string">&#x27;.article-licensing.box&#x27;</span>).length === <span class="hljs-number">0</span>)&#123;
  $(<span class="hljs-string">&quot;.card-content.article&quot;</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;
    $(<span class="hljs-built_in">this</span>).wrap(<span class="hljs-string">&#x27;&lt;a class=&quot;card-link&quot; href=&quot;&#x27;</span> + $(<span class="hljs-built_in">this</span>).find(<span class="hljs-string">&#x27;h1 a&#x27;</span>).attr(<span class="hljs-string">&#x27;href&#x27;</span>) + <span class="hljs-string">&#x27;&quot;&gt;&lt;/a&gt;&#x27;</span>);
  &#125;)&#125;</code></pre>
<p>其实就是用了 jQuery 的 <code>warp()</code> 方法<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>，这里我们指定 <code>&lt;a&gt;</code> 元素来包裹 <code>&lt;article&gt;</code> 元素。同时因为我们只需要在首页让这些卡片有链接，所以我们可以通过判断正文末尾的版权信息盒子是否存在，来控制这条语句是否生效。</p>
<p>我们还需要设置一下 <code>card-link</code> 的 <code>color</code> 为 <code>inherit</code>，这样摘要的颜色就会恢复成白色，否则会是你 <code>a</code> 标签的颜色（自定义 CSS 的方法在后文）：</p>
<pre><code class="hljs stylus">.card-link
    <span class="hljs-attribute">color</span>: inherit</code></pre>
<p>这样我们就实现了整个卡片可点击，且卡片里原有的分类链接照样可以点击并不受影响。但我并不知道为何第一种和第三种方法会有这样的差异，如果有大佬清楚请在<a href="#twikoo">评论区</a>解答我，谢谢。</p>
<h2 id="加入一点动效会让体验更好吗？答案是肯定的">加入一点动效会让体验更好吗？答案是肯定的</h2>
<p>所谓「交互」，代表着交流和互动。一个好的交互设计，组件与用户的互动是必不可少的。互联网厂商们早已发现了这一逻辑，并将这些互动悄悄藏在设计里，通过微小的震动、令人愉悦的变换俘获用户的感官。</p>
<p>简单来说，光将整张卡片链接到正文还不够，它得是让用户有感知的，这个感知就由动效来实现。</p>
<p>废话少说，先上效果图👇：</p>
<div style="text-align: center">
<picture>
    <source srcset="https://static.anzifan.com/uPic/1_card_dark.gif" media="(prefers-color-scheme: dark)">
    <source srcset="https://static.anzifan.com/uPic/1_card_light.gif" media="(prefers-color-scheme: light)">
    <img class="adapt" src="https://static.anzifan.com/uPic/1_card_light.gif" alt="动图可能看不太清楚，可自行在本博客体验效果，深色模式和浅色模式下会有细微的差别">
</picture>
</div>
<p>为实现这个效果，我增加了：</p>
<ul>
<li>
<p>向上的位移</p>
</li>
<li>
<p>阴影的变换</p>
</li>
<li>
<p>题图的变大（深色模式下，还增加了题图的变暗）</p>
</li>
</ul>
<p>我希望能用纯 CSS 解决的，尽量只用 CSS。为了后期与 Icarus 同步更方便，我们修改 <code>source/css</code> 目录下的 <code>style.styl</code> 来自定义样式。Icarus 使用 Stylus<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup> 作为 CSS 预处理器。它的定义生效规则是：</p>
<blockquote>
<p>一个变量不能影响在定义它以前的输出样式。<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></p>
</blockquote>
<p>所以为了方便，我们可以把所有自定义样式放在最前面，把 <code>@import</code> 放在最后。</p>
<h3 id="位移与阴影">位移与阴影</h3>
<p>首先，我们将位移与阴影一起添加，效果模仿自 <a target="_blank" rel="noopener" href="https://gridsome.org/starters/gridsome-blog-starter/">Gridsome Blog Starter</a> 🙏。</p>
<p>因为我不希望在正文处也出现动效，同时希望尽可能用纯 CSS 解决，所以我在 <code>article.jsx</code> 最前面添加一个只在正文生效的空的 <code>div</code> 元素，并通过 class 名「controller」来控制：</p>
<pre><div class="caption"><span>article.jsx</span></div><code class="hljs jsx"><span class="hljs-keyword">return</span> &lt;Fragment&gt;
  <span class="hljs-comment">// 通过判断 index 是否存在，来决定是否是正文。</span>
  &#123;!index ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#123;</span>&#x27;<span class="hljs-attr">controller</span>&#x27;&#125;&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>: <span class="hljs-literal">null</span>&#125;
  ...
&lt;/Fragment&gt;</code></pre>
<p>这样一来，正文的最前面就会多一个空的、class 名为「controller」的 <code>div</code> 元素。接下来我们写伪类：</p>
<pre><code class="hljs stylus"><span class="hljs-selector-class">.order-2</span> <span class="hljs-selector-class">.card</span>:hover
    <span class="hljs-attribute">transform</span>: translateY(-<span class="hljs-number">5px</span>)
    box-shadow: 1px 10px 30px 0 rgba(0,0,0,.1)
    -webkit-<span class="hljs-attribute">transform</span>: translateY(-<span class="hljs-number">5px</span>)
    -webkit-box-shadow: 1px 10px 30px 0 rgba(0,0,0,.1)

<span class="hljs-comment">// 将兄弟元素为 .controller 的 .card 的 :hover 样式重制（无效化）</span>
<span class="hljs-selector-class">.order-2</span> <span class="hljs-selector-class">.controller</span> ~ <span class="hljs-selector-class">.card</span>:hover
    <span class="hljs-attribute">transform</span>: none
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">10px</span> rgba(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.05</span>), <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1px</span> rgba(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>)
    -webkit-<span class="hljs-attribute">transform</span>: none
    -webkit-<span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">10px</span> rgba(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.05</span>), <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1px</span> rgba(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>)

<span class="hljs-comment">// 加入过渡效果</span>
.card
    <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">0.3s</span> ease-out, transform <span class="hljs-number">0.3s</span> ease-out, box-shadow <span class="hljs-number">0.6s</span> !important</code></pre>
<p>可以看出来，这样写会有一些啰嗦和冗余，我尝试过一些想法都不太好，比如将 <code>index</code> 判断反写，把「controller」加在首页最上方，但 Icarus 原版的 <code>&lt;Fragment&gt;</code> 元素写法，会在每个卡片上加上一个 <code>div</code> 元素，从而打乱布局，让菜菜的我觉得麻烦<img src="https://static.anzifan.com/uPic/1_meme_cat_shock.JPG" style="zoom:15%;" />，所以先就这样，日后再改。</p>
<p>如果有大佬们有更好的解决方案，请在<a href="#twikoo">评论区</a>赐教。</p>
<details> 
<summary><b>点击展开查看</b>：一个现在不兼容，但未来可能可以的做法。</summary>
<p>菜菜的我本来很辛苦的摸索了出来这种写法，结果发现目前只有 Safari 和最新版本的 Firefox 可以<a target="_blank" rel="noopener" href="https://caniuse.com/css-not-sel-list">比较好的支持</a><img src="https://static.anzifan.com/uPic/1_meme_panda_tired.JPG" style="zoom:15%;" />，这取决于浏览器对 CSS Selector Level 4 的支持程度（Safari 91% 支持，而 Chrome 只有 88%，这个特性恰好在这不支持的 3% 里）。</p>
<p>简单来说就是 <code>:not</code> 里嵌套兄弟选192择器 <code>~</code>：</p>
<pre><code class="hljs stylus"><span class="hljs-selector-class">.order-2</span> &gt; :not(<span class="hljs-selector-class">.controller</span> ~ .card):hover
    <span class="hljs-attribute">transform</span>: translateY(-<span class="hljs-number">5px</span>)
    box-shadow: 1px 10px 30px 0 rgba(0,0,0,.1)
    -webkit-<span class="hljs-attribute">transform</span>: translateY(-<span class="hljs-number">5px</span>)
    -webkit-box-shadow: 1px 10px 30px 0 rgba(0,0,0,.1)</code></pre>
<p>很好理解，这个选择器会选择兄弟不为 <code>.controller</code> 的 <code>.card</code>，这样只需要这一个语句即可。</p>
<p>关于这一特性的详细可以看 <a target="_blank" rel="noopener" href="https://drafts.csswg.org/selectors-4/#negation">W3C Editor’s Draft</a> 和 <a target="_blank" rel="noopener" href="https://css4-selectors.com/selector/css4/negation-pseudo-class/">CSS4 Selectors</a>，另附 <a target="_blank" rel="noopener" href="https://caniuse.com/css-not-sel-list">Can I use 兼容情况</a>。</p>
</details>
<h3 id="题图">题图</h3>
<p>最后我们添加题图放大的动效，这里的效果模仿自 Apple 官网的 <a target="_blank" rel="noopener" href="https://www.apple.com/newsroom/">Newsroom</a> 📰，注意 <code>:hover</code> 的写法，我希望鼠标放在卡片上时就激活（而不仅仅是放在题图上）：</p>
<pre><div class="caption"><span>style.styl</span></div><code class="hljs stylus"><span class="hljs-selector-class">.card</span>:hover
    <span class="hljs-selector-class">.card-image</span> a
        -webkit-<span class="hljs-attribute">transform</span>: scale(<span class="hljs-number">1.03</span>)
        <span class="hljs-attribute">transform</span>: scale(<span class="hljs-number">1.03</span>)

<span class="hljs-comment">// 加入过渡效果</span>
<span class="hljs-selector-class">.card</span> <span class="hljs-selector-class">.card-image</span> a
    -webkit-<span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> cubic-bezier(<span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.25</span>, <span class="hljs-number">1</span>),
    -webkit-<span class="hljs-attribute">transform</span> <span class="hljs-number">400ms</span> cubic-bezier(<span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.25</span>, <span class="hljs-number">1</span>),<span class="hljs-number">200ms</span> -webkit-filter linear
    <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> cubic-bezier(<span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.25</span>, <span class="hljs-number">1</span>),
    <span class="hljs-attribute">transform</span> <span class="hljs-number">400ms</span> cubic-bezier(<span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.25</span>, <span class="hljs-number">1</span>),<span class="hljs-number">200ms</span> filter linear</code></pre>
<p>细心的朋友可能会发现，光这样还不完美——图片在变换的过程中会先取消圆角，再恢复圆角，也就是说中间会有一段时间「四角方方」，这是我们不愿意看到的，解决方法也很简单，再添加一个 0 度的旋转<sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup>即可：</p>
<pre><code class="hljs stylus"><span class="hljs-comment">// 修复变换时的圆角</span>
.card-image
    <span class="hljs-attribute">transform</span>: rotate(<span class="hljs-number">0deg</span>)
    -webkit-<span class="hljs-attribute">transform</span>: rotate(<span class="hljs-number">0deg</span>)</code></pre>
<p>在黑暗模式下我还加入了题图变暗的效果。关于黑暗模式我会在之后详解，就不在本文中赘述了：</p>
<pre><code class="hljs stylus">-webkit-<span class="hljs-attribute">filter</span>: brightness(<span class="hljs-number">70%</span>)
<span class="hljs-attribute">filter</span>:brightness(<span class="hljs-number">70%</span>)</code></pre>
<p>至此，我们便完成了一个用户友好的卡片设计，它整张卡片可点击，且有合适的动效互动，但这并不是 Candy 主题的全部，还有很多细节性的动效就不在这里赘述了，感兴趣的话可以去查看 <a target="_blank" rel="noopener" href="https://github.com/MannyCooper/hexo-theme-candy/blob/publish/source/css/style.styl"><code>style.styl</code> 源码</a>。</p>
<h2 id="「跟着走」的导航栏，贴心而不恼人">「跟着走」的导航栏，贴心而不恼人</h2>
<p>最后，我想我需要一个会跟随页面的导航栏，它得是贴心的——当你需要它的时候，比如回首页、切换浅色/深色模式、搜索，它就在那里；它还得是不恼人的——它不应该遮挡太多，影响到正文或视觉平衡，它得是灵巧的，且更好的适配响应式设计。</p>
<h3 id="跟着走？No！它只是固定在那里">跟着走？No！它只是固定在那里</h3>
<p>导航栏不会真的跟着走的，我们只是给它添加一个 <code>position</code> 为 <code>fixed</code>的样式<img src="https://static.anzifan.com/uPic/1_meme_cat_awesome.jpg" style="zoom:3%;" />。这么做的同时还需要调整 <code>width</code> 为 <code>100%</code> 并将下一个元素 <code>section</code> 下移：</p>
<pre><code class="hljs stylus">.navbar-main
    <span class="hljs-attribute">position</span>: fixed !important
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span> !important
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0px</span>

.section
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">45px</span></code></pre>
<p>当然，也可以采用 <code>sticky</code> 不过兼容性会<a target="_blank" rel="noopener" href="https://caniuse.com/?search=sticky">差一些</a>，在此案例中效果是一样的。使用 <code>sticky</code> 就不需要设置 <code>section</code> 的下移，不过需要设置 <code>top</code> 属性：</p>
<pre><code class="hljs stylus">.navbar-main
    <span class="hljs-attribute">position</span>: sticky !important
    <span class="hljs-attribute">position</span>: -webkit-sticky !important
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0px</span></code></pre>
<h3 id="「瘦身」-「毛玻璃」，让导航栏灵巧一些">「瘦身」+「毛玻璃」，让导航栏灵巧一些</h3>
<p>接下来我想让导航栏看起来更轻巧一些，于是缩窄了导航栏的高度并加入了所谓「毛玻璃」效果。</p>
<h4 id="「瘦身」">「瘦身」</h4>
<p>通过修改 <code>navbar-item</code> 的内外边距来缩窄高度：</p>
<pre><code class="hljs stylus">.navbar-item
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">4px</span> !important
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">8.5px</span> !important</code></pre>
<p>同时 Icarus 原版对于移动端的处理是将 logo 放在一个自适应的 <code>div</code> 里，当屏幕宽度小于 1088 px 的时候，导航栏会分成上下两行。</p>
<p>但这对于一个一直固定在顶端的导航栏来说太大了，所以这里我做了个修改，将自适应去掉，把 logo 也放在 <code>navbar-menu</code> 里：</p>
<pre><div class="caption"><span>layout/common/navbar.jsx</span></div><code class="hljs diff"><span class="hljs-deletion">- &lt;div class=&quot;navbar-brand justify-content-center&quot;&gt;</span>
<span class="hljs-deletion">-	&lt;a class=&quot;navbar-item navbar-logo&quot; href=&#123;siteUrl&#125;&gt;&#123;navbarLogo&#125;&lt;/a&gt;</span>
<span class="hljs-deletion">- &lt;/div&gt;</span>
 &lt;div class=&quot;navbar-menu&quot;&gt;
<span class="hljs-addition">+	&lt;a class=&quot;navbar-item navbar-logo&quot; href=&#123;siteUrl&#125;&gt;&#123;navbarLogo&#125;&lt;/a&gt;</span>
	...
 &lt;/div&gt;</code></pre>
<p>效果图：</p>
<div style="text-align: center">
<picture>
    <source srcset="https://static.anzifan.com/uPic/1_navbar_dark.png" media="(prefers-color-scheme: dark)">
    <source srcset="https://static.anzifan.com/uPic/1_navbar.png" media="(prefers-color-scheme: light)">
    <img class="adapt" src="https://static.anzifan.com/uPic/1_navbar.png" alt="改动后的导航栏更窄更清爽了（右）">
</picture>
</div>
<p>当然，还有些更好的方案，比如制作下拉菜单栏，以解决导航栏里的标签页太多超出屏幕宽度的问题，可以见这个旧版本的 <a target="_blank" rel="noopener" href="https://github.com/ppoffice/hexo-theme-icarus/pull/616">PR</a>。有空的时候我会改进导航栏，如果真的有人看的话。</p>
<h4 id="「毛玻璃」">「毛玻璃」</h4>
<p>所谓「毛玻璃」，更专业一点的说法叫「Backdrop Filter effect」，即背景过滤效果。所以核心就是 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/backdrop-filter"><code>backdrop-filter</code> 样式</a>。我这里依旧模仿的 Apple <a target="_blank" rel="noopener" href="https://www.apple.com/newsroom/">Newsroom</a>，将 <code>navbar</code> 背景色变透明并增加饱和度和模糊：</p>
<pre><code class="hljs stylus">.navbar
    -webkit-backdrop-<span class="hljs-attribute">filter</span>: saturate(<span class="hljs-number">180%</span>) blur(<span class="hljs-number">20px</span>)
    backdrop-<span class="hljs-attribute">filter</span>: saturate(<span class="hljs-number">180%</span>) blur(<span class="hljs-number">20px</span>)
    <span class="hljs-attribute">background-color</span>: rgba(<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">0.7</span>) !important
    <span class="hljs-comment">//黑暗模式下颜色为 rgba(29,29,31,0.7)</span></code></pre>
<p>再将 <code>navbar-menu</code> 背景设为透明，这样小尺寸屏幕下也能正常显示：</p>
<pre><code class="hljs stylus"><span class="hljs-selector-class">.navbar-main</span> .navbar-menu
    <span class="hljs-attribute">background-color</span>: transparent</code></pre>
<p>效果图：</p>
<div style="text-align: center">
<picture>
    <source srcset="https://static.anzifan.com/uPic/1_navbar_dark.gif" media="(prefers-color-scheme: dark)">
    <source srcset="https://static.anzifan.com/uPic/1_navbar_light.gif" media="(prefers-color-scheme: light)">
    <img class="adapt" src="https://static.anzifan.com/uPic/1_navbar_light.gif" alt="">
</picture>
</div>
<h3 id="最后，修复锚元素定位">最后，修复锚元素定位</h3>
<p>我们固定了导航栏，紧接着问题就来了。你会发现之前的页内锚元素跳转全都错位了（比如目录、脚注），更准确的来说是正好被现在的导航栏所遮挡，所以我们要来修复这个 bug。</p>
<h4 id="脚注修复">脚注修复</h4>
<p>先来修复简单的，修复脚注我们只需要用到 CSS（因为新版目录是用 JavaScript 来控制 <code>href</code> 属性值的，这个方法就不行了)，这里我们用到一个小技巧，即用 <code>:target</code> 去定位目标元素，并用 <code>::before</code> 在前面加一个空的行内元素，然后通过 <code>padding-top</code> 和 <code>margin-top</code> 配合来控制位置这样就修复了正文到脚注的跳转错位：</p>
<pre><code class="hljs stylus">:target::before 
    <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>
    <span class="hljs-attribute">display</span>: inline-block
    <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">73px</span>
    <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">73px</span></code></pre>
<p>稍微解释一下，这里就是先用 <code>padding-top</code> 将这个空的 <code>inline-block</code> 移动到距离其容器上方 N px 的位置，然后通过 <code>margin-top</code> 将这个容器整体上移 N px 的位置，这样我们就可以通过调整 N 的值来控制元素的位置。</p>
<p>同理，我们还需要修复下脚注到正文的跳转：</p>
<pre><code class="hljs stylus"><span class="hljs-selector-class">.footnote-item</span>::before 
    <span class="hljs-attribute">display</span>: block
    <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">55px</span>
    <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">55px</span>
    <span class="hljs-attribute">margin-bottom</span>: -<span class="hljs-number">25px</span></code></pre>
<p>这里有一些细微的差别，因为脚注是一个列表，列表的元素应该按一整条一整条来看，所以我们把 <code>display</code> 改为 <code>block</code>，再按照之前的方法适当调整一下距离，最后我们还需要通过 <code>margin-bottom</code> 来对齐文本和序号。</p>
<h4 id="目录修复">目录修复</h4>
<p>如果你不需要一个「随着滚动到不同位置，动态折叠展开」的目录，你可以使用<a target="_blank" rel="noopener" href="https://github.com/MannyCooper/hexo-theme-candy/blob/d6524f98b0faeb866172b4a9a948ee9dc4c81081/source/js/toc.js">这个</a>旧版本的 <code>toc.js</code>，并且采用上面修复脚注的方式来修复错位，这里我就不赘述了。</p>
<p>如果你需要这样一个「智能」的目录，请采用<a target="_blank" rel="noopener" href="https://github.com/MannyCooper/hexo-theme-candy/blob/465b3a7342d99981972075c8d7bd0228be699a69/source/js/toc.js">最新版本</a>的 <code>toc.js</code> 并把它放在 <code>source/js</code> 里，这里我只说下对于错位的修复。</p>
<p>首先在 <code>source/js/toc.js</code> 中创建一个 <code>scrollTo</code> 方法来代替不支持偏移量的 <code>scrollIntoView</code> 方法：</p>
<pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scrollTo</span>(<span class="hljs-params">id</span>) </span>&#123;
  <span class="hljs-keyword">var</span> element = <span class="hljs-built_in">document</span>.getElementById(id);
  <span class="hljs-keyword">var</span> headerOffset = -<span class="hljs-number">20</span>; <span class="hljs-comment">// 偏移量</span>
  <span class="hljs-keyword">var</span> elementPosition = element.offsetTop;
  <span class="hljs-keyword">var</span> offsetPosition = elementPosition - headerOffset;
  <span class="hljs-built_in">document</span>.documentElement.scrollTop = offsetPosition;
  <span class="hljs-built_in">document</span>.body.scrollTop = offsetPosition; <span class="hljs-comment">// 适配 Safari</span>
&#125;</code></pre>
<p>没有什么可说的，非常好理解，然后在下面替换即可：</p>
<pre><code class="hljs diff">if (typeof $heading.scrollTo <span class="hljs-comment">=== &#x27;function&#x27;) &#123;</span>
<span class="hljs-deletion">- $heading.scrollIntoView(&#123; behavior: &#x27;smooth&#x27; &#125;);</span>
<span class="hljs-addition">+ scrollTo($heading.id);</span>
&#125;</code></pre>
<p>就是这么简单，我们完成了所有错位修复。</p>
<h2 id="写在最后的、其他的一些玩意儿">写在最后的、其他的一些玩意儿</h2>
<p>感谢你看到这里，零基础的我可能比较啰嗦，这当然不是我在视觉和交互上做出的全部修改，尽量挑了些对我来说比较有代表性的「坑」，大佬们见笑了。一些细枝末节的修改，网络上可能已经有无数篇相同的文章教你如何去操作了，我就不费口舌了。当然如果你有任何疑问、评价或想教我做事儿，也请不要吝啬，<strong>请在文末的评论区给我留言</strong>，我会第一时间回复。</p>
<p>这是 Candy 主题修改系列的第一篇，应该也是最零碎的一篇，我非常迫不及待地想分享关于黑暗模式的实现，但是先忍住，下一篇将会是关于 Twikoo 的，一个非常崭新的评论系统，美观、安全、易用、免登录、免费等等，虽然它还有很长的路要走，但目前配得上这些美好的词汇。希望我能在官方作者写出详细教程之前发布（逃）。</p>
<p>本文完。</p>
<a class="tag is-medium" href="mailto:541297173@qq.com?subject=「创造 CANDY 主题，只为更好的交互」一文的封面图授权申请" target="_blank">
<span class="icon" style="word-wrap: break-word;"><i class="fas fa-camera"></i></span>原创封面图，使用需<b>授权</b>，请勿盗用 </a>
<style>.content blockquote {font-size: small;}</style>
<h2 id="脚注">脚注</h2>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a target="_blank" rel="noopener" href="https://github.com/ppoffice/hexo-theme-icarus">Icarus 主题的 GitHub 仓库主页</a> <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p><strong><a target="_blank" rel="noopener" href="https://api.jquery.com/wrap/">.wrap( wrappingElement )</a></strong>: <em>Wrap an HTML structure around each element in the set of matched elements.</em> <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>Stylus 是富于表现力、健壮、功能丰富的 CSS 预处理器，详见<a target="_blank" rel="noopener" href="https://stylus-lang.com">官网</a>。 <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn4" class="footnote-item"><p><a target="_blank" rel="noopener" href="https://efe.baidu.com/blog/revisiting-css-preprocessors/#%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F">再谈 CSS 预处理器｜变量作用域 - Justineo</a> <a href="#fnref4" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn5" class="footnote-item"><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011456552/article/details/53464157">图片transform其父级的border-radius失效 - 沈志勇说</a> <a href="#fnref5" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
</div><div class="article-licensing box"><div class="licensing-title"><p>创造 CANDY 主题，只为更好的交互</p><p><a href="https://anzifan.com/post/icarus_to_candy_1/">https://anzifan.com/post/icarus_to_candy_1/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>安子璠</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2020-11-19</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2020-11-24</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><span class="article-tags is-size-7 last_update"><i class="fas fa-wrench">&nbsp;&nbsp;</i><time dateTime="2020-11-23T18:23:08.721Z" title="2020-11-23T18:23:08.721Z">2020-11-24</time>更新</span><div class="article-tags is-size-7 mb-4"><i class="far fa-tag">  </i><a class="link-muted mr-2" rel="tag" href="/tags/Hexo/">Hexo</a><a class="link-muted mr-2" rel="tag" href="/tags/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98/">博客主题</a><a class="link-muted mr-2" rel="tag" href="/tags/%E4%BA%A4%E4%BA%92%E8%AE%BE%E8%AE%A1/">交互设计</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=5f60d4110658220012f2d898&amp;product=inline-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay.JPG" alt="支付宝"></span></a><a class="button donate" data-type="paypal" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="541297173@qq.com"><input type="hidden" name="currency_code" value="USD"></form><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechat.JPG" alt="微信"></span></a></div></div></div><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="content twikoo" id="twikoo"></div><script src="https://cdn.jsdelivr.net/npm/twikoo@0.2.3/dist/twikoo.all.min.js"></script><script>twikoo.init({
      envId: 'twikoo-7gjtx7whfd732c11'
    });</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/portrait.PNG" alt="异次元de机智君💯"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">异次元de机智君💯</p><p class="is-size-6 is-block">💻｜🎨｜🎮｜⚡️</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>南京/Seattle</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">1</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">3</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://weibo.com/6583804362" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/mannycooper"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="站酷" href="https://www.zcool.com.cn/u/15715679"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://www.ruitz.cn" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">rtz的博客</span></span><span class="level-right"><span class="level-item tag">www.ruitz.cn</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=anzifan&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="anzifan" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div><p class="help">Powered by Google FeedBurner</p></form></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#真正的卡片式设计——让最频繁的交互更人性化"><span class="level-left"><span class="level-item">1</span><span class="level-item">真正的卡片式设计——让最频繁的交互更人性化</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#分析"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">分析</span></span></a></li><li><a class="level is-mobile" href="#尝试"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">尝试</span></span></a></li><li><a class="level is-mobile" href="#解法"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">解法</span></span></a></li></ul></li><li><a class="level is-mobile" href="#加入一点动效会让体验更好吗？答案是肯定的"><span class="level-left"><span class="level-item">2</span><span class="level-item">加入一点动效会让体验更好吗？答案是肯定的</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#位移与阴影"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">位移与阴影</span></span></a></li><li><a class="level is-mobile" href="#题图"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">题图</span></span></a></li></ul></li><li><a class="level is-mobile" href="#「跟着走」的导航栏，贴心而不恼人"><span class="level-left"><span class="level-item">3</span><span class="level-item">「跟着走」的导航栏，贴心而不恼人</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#跟着走？No！它只是固定在那里"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">跟着走？No！它只是固定在那里</span></span></a></li><li><a class="level is-mobile" href="#「瘦身」-「毛玻璃」，让导航栏灵巧一些"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">「瘦身」+「毛玻璃」，让导航栏灵巧一些</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#「瘦身」"><span class="level-left"><span class="level-item">3.2.1</span><span class="level-item">「瘦身」</span></span></a></li><li><a class="level is-mobile" href="#「毛玻璃」"><span class="level-left"><span class="level-item">3.2.2</span><span class="level-item">「毛玻璃」</span></span></a></li></ul></li><li><a class="level is-mobile" href="#最后，修复锚元素定位"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">最后，修复锚元素定位</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#脚注修复"><span class="level-left"><span class="level-item">3.3.1</span><span class="level-item">脚注修复</span></span></a></li><li><a class="level is-mobile" href="#目录修复"><span class="level-left"><span class="level-item">3.3.2</span><span class="level-item">目录修复</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#写在最后的、其他的一些玩意儿"><span class="level-left"><span class="level-item">4</span><span class="level-item">写在最后的、其他的一些玩意儿</span></span></a></li><li><a class="level is-mobile" href="#脚注"><span class="level-left"><span class="level-item">5</span><span class="level-item">脚注</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><figure class="media-left"><a class="image" href="/post/icarus_to_candy_1/"><img class="fill" src="https://static.anzifan.com/uPic/t_l_1.png" alt="创造 CANDY 主题，只为更好的交互"><img class="fill_dark" src="https://static.anzifan.com/uPic/t_d_1.png" alt="创造 CANDY 主题，只为更好的交互"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-11-18T22:00:00.000Z">2020-11-19</time></p><p class="title"><a href="/post/icarus_to_candy_1/">创造 CANDY 主题，只为更好的交互</a></p><p class="categories"><a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a> / <a href="/categories/%E6%8A%80%E6%9C%AF/%E5%89%8D%E7%AB%AF/">前端</a></p></div></article></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E6%8A%80%E6%9C%AF/"><span class="level-start"><span class="level-item">技术</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%8A%80%E6%9C%AF/%E5%89%8D%E7%AB%AF/"><span class="level-start"><span class="level-item">前端</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%A4%E4%BA%92%E8%AE%BE%E8%AE%A1/"><span class="tag">交互设计</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98/"><span class="tag">博客主题</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">十一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo_small.png" alt="安子璠的个人主页" height="28"></a><p class="is-size-7"><span>&copy; 2020 安子璠</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> with <a href="https://github.com/MannyCooper/hexo-theme-candy" target="_blank" rel="noopener">Candy</a><br><i class="fas fa-globe-asia" style=""></i><a target="_blank" rel="noopener" href="http://beian.miit.gov.cn"> 苏ICP备 2020060340 号 </a><br><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=32011202000528"><img src="/img/beian.png" style="height: 14px;margin-left: -1px;margin-right: -1px;margin-top: 1.2px;"> 苏公网安备 32011202000528 号</a><br><span id="busuanzi_container_site_uv">共 <span id="busuanzi_value_site_uv">0</span> 个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Deployed on Vercel" href="https://vercel.com/"><i class="fas fa-caret-square-up"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Deployed on Alibaba Cloud" href="https://www.aliyun.com"><i class="fas fa-server"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: ''
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>