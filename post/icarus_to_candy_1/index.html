<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">

    

    <!-- 渲染优化 -->
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="HandheldFriendly" content="True" >
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!--icon-->

    
        <link rel="shortcut icon" href="/img/favicon-32x32.png">
    
    
    
    
    


    <!-- meta -->


<title>创造 CANDY 主题，只为更好的交互 | 安子璠的个人主页</title>


    <meta name="keywords" content="Hexo, 博客主题, 前端, 交互设计">




    <!-- OpenGraph -->
 
    <meta name="description" content="基于 ICARUS 主题重新思考并设计个人博客。">
<meta property="og:type" content="article">
<meta property="og:title" content="创造 CANDY 主题，只为更好的交互">
<meta property="og:url" content="https://anzifan.com/post/icarus_to_candy_1/index.html">
<meta property="og:site_name" content="安子璠的个人主页">
<meta property="og:description" content="基于 ICARUS 主题重新思考并设计个人博客。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://static.anzifan.com/uPic/1_long_abstract.png">
<meta property="og:image" content="https://static.anzifan.com/uPic/1_meme_cat_think.jpeg">
<meta property="og:image" content="https://static.anzifan.com/uPic/1_card_light.gif">
<meta property="og:image" content="https://static.anzifan.com/uPic/1_meme_cat_shock.JPG">
<meta property="og:image" content="https://static.anzifan.com/uPic/1_meme_panda_tired.JPG">
<meta property="og:image" content="https://static.anzifan.com/uPic/1_meme_cat_awesome.jpg">
<meta property="og:image" content="https://static.anzifan.com/uPic/1_navbar.png">
<meta property="og:image" content="https://static.anzifan.com/uPic/1_navbar_light.gif">
<meta property="article:published_time" content="2020-11-18T22:00:00.000Z">
<meta property="article:modified_time" content="2021-02-10T22:03:49.338Z">
<meta property="article:author" content="安子璠">
<meta property="article:tag" content="Hexo">
<meta property="article:tag" content="博客主题">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="交互设计">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://static.anzifan.com/uPic/1_long_abstract.png">


    
<link rel="stylesheet" href="/css/style/main.css">
 


    
<link rel="stylesheet" href="/css/style/dark.css">

    
<script src="/js/darkmode.js"></script>



    
    
    
        <link rel="stylesheet" id="hl-default-theme" href="https://cdn.jsdelivr.net/npm/highlight.js@10.1.2/styles/atom-one-light.min.css" media="none" onload="if(getComputedStyle(document.documentElement).getPropertyValue('--color-mode').indexOf('dark')===-1)this.media='all'">
        
            <link rel="stylesheet" id="hl-dark-theme" href="https://cdn.jsdelivr.net/npm/highlight.js@10.1.2/styles/atom-one-dark.min.css" media="none" onload="if(getComputedStyle(document.documentElement).getPropertyValue('--color-mode').indexOf('dark')!==-1)this.media='all'">
        
    

    

     
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
 

    <!-- custom head -->

    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="安子璠的个人主页" type="application/atom+xml">
</head>

    <body>
        <div id="app">
            <div class="header-wrapper">
<header class="header">
    <div class="header__left">
        <a href="/" class="link-button">
            <span class="logo__text">异次元de机智君💯</span>
        </a>
    </div>
    <div class="header__right">
        
            <div class="navbar__menus">
                
                    <a href="/tags/" class="navbar-menu link-button "><svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="m12.991 24.943c-2.0332 6e-4 -4.0325-0.5208-5.8064-1.5143l-4.2694 0.1708c-0.13194 4e-4 -0.26238-0.028-0.3823-0.083-0.11991-0.0551-0.22643-0.1355-0.3122-0.2358-0.07501-0.0974-0.12809-0.2099-0.1556-0.3298s-0.0288-0.2443-0.00379-0.3647l0.80835-3.1537c-1.4278-2.2486-2.067-4.9083-1.8167-7.5602 0.25029-2.6518 1.3758-5.145 3.1991-7.0868 1.8234-1.9418 4.2409-3.2216 6.8719-3.638 2.6308-0.41641 5.3255 0.05436 7.6594 1.3381 2.3338 1.2838 4.1743 3.3075 5.2312 5.7525 1.057 2.4449 1.2705 5.172 0.6069 7.7517-0.6637 2.5796-2.1668 4.8651-4.2725 6.4964-2.1056 1.6313-4.6942 2.5156-7.3579 2.5137v-0.0569zm-5.5901-3.222c0.15176-0.0012 0.3011 0.0381 0.43263 0.1138 1.9528 1.1274 4.223 1.5793 6.4586 1.2854 2.2357-0.2938 4.312-1.3169 5.9071-2.9106 1.5951-1.5938 2.62-3.6692 2.9158-5.9046 0.2958-2.2353-0.1541-4.5059-1.2798-6.4596-1.1257-1.9538-2.8645-3.4816-4.9468-4.3468-2.0822-0.86518-4.3918-1.0194-6.5706-0.4386-2.1788 0.58074-4.1052 1.864-5.4806 3.6508s-2.123 3.9774-2.127 6.2323c-0.00962 2.0653 0.61424 4.0839 1.7875 5.7837 0.06754 0.103 0.11346 0.2187 0.13499 0.3401 0.02153 0.1213 0.01821 0.2457-0.00975 0.3657l-0.62619 2.4137 3.4156-0.1252h-0.01138z" fill="#FF375F" stroke="#FF375F" stroke-width=".5"/><path d="m8.8519 17.777c-0.09331 0.016-0.18873 0.016-0.28205 0-0.10886-0.0381-0.20876-0.0975-0.2937-0.1747-0.08495-0.0771-0.15318-0.1703-0.2006-0.274s-0.07305-0.2158-0.07535-0.3295 0.01877-0.2267 0.06196-0.3322l2.9898-8.106c0.0387-0.10714 0.0991-0.20547 0.1774-0.28907 0.0784-0.0836 0.1731-0.15076 0.2785-0.19743 0.1053-0.04667 0.2192-0.0719 0.3348-0.07416 0.1155-0.00227 0.2303 0.01848 0.3375 0.06098 0.1098 0.03654 0.2107 0.09521 0.2963 0.17226 0.0855 0.07705 0.1538 0.17079 0.2005 0.27526 0.0467 0.10446 0.0708 0.21736 0.0707 0.33149 0 0.11413-0.0243 0.22699-0.0711 0.3314l-2.9898 8.1059c-0.07091 0.1571-0.18885 0.2891-0.33804 0.3784s-0.32253 0.1316-0.49683 0.1213zm4.2984 0.211c-0.0971 0.0157-0.1962 0.0157-0.2933 0-0.1098-0.0368-0.2108-0.0954-0.2967-0.1723-0.0858-0.0768-0.1547-0.1702-0.2023-0.2743-0.0476-0.1042-0.0729-0.2168-0.0744-0.331s0.0208-0.2275 0.0657-0.3328l3.001-8.0949c0.0355-0.10574 0.0921-0.20341 0.1666-0.28723s0.1653-0.15209 0.267-0.20077c0.1018-0.04868 0.2124-0.07678 0.3254-0.08265 0.1129-0.00587 0.226 0.01062 0.3324 0.0485 0.1063 0.03787 0.2039 0.09636 0.287 0.172 0.083 0.07564 0.1497 0.1669 0.1963 0.26838s0.072 0.21112 0.0747 0.32243c0.0028 0.11132-0.0171 0.22205-0.0586 0.32564l-3.001 8.106c-0.0616 0.157-0.17 0.2919-0.3109 0.387-0.141 0.0952-0.3079 0.1461-0.4789 0.146z" fill="#FF375F" stroke="#FF375F" stroke-width=".5"/><path d="m17.172 11.719h-8.747c-0.18725-0.0403-0.35559-0.1478-0.47651-0.3045s-0.18697-0.3528-0.18697-0.5552c0-0.2023 0.06605-0.3984 0.18697-0.5551s0.28926-0.2642 0.47651-0.3045h8.747c0.2197 0 0.4304 0.0924 0.5857 0.2569s0.2426 0.3876 0.2426 0.6203c0 0.2326-0.0873 0.4558-0.2426 0.6203s-0.366 0.2569-0.5857 0.2569v-0.0351zm-0.5743 4.2807h-8.7691c-0.21968 0-0.43036-0.0924-0.5857-0.2569s-0.24261-0.3876-0.24261-0.6203c0-0.2326 0.08727-0.4558 0.24261-0.6203s0.36602-0.2569 0.5857-0.2569h8.7691c0.2197 0 0.4304 0.0924 0.5857 0.2569s0.2426 0.3877 0.2426 0.6203c0 0.2327-0.0873 0.4558-0.2426 0.6203s-0.366 0.2569-0.5857 0.2569z" fill="#FF375F" stroke="#FF375F" stroke-width=".5"/></svg></a>
                
                    <a href="/archives/" class="navbar-menu link-button "><svg viewBox="0 0 20 19" xmlns="http://www.w3.org/2000/svg"><path d="m3.25 5.5609h13.5c0.3891 0 0.7031-0.31406 0.7031-0.70312 0-0.38907-0.314-0.70313-0.7031-0.70313h-13.5c-0.38906 0-0.70312 0.31406-0.70312 0.70313 0 0.38672 0.3164 0.70312 0.70312 0.70312zm1.5492-3.3797h10.402c0.389 0 0.7031-0.31406 0.7031-0.70312s-0.3141-0.70313-0.7031-0.70313h-10.402c-0.38906 0-0.70313 0.31407-0.70313 0.70313s0.31407 0.70312 0.70313 0.70312zm7.957 10.207h-5.5124c-0.38906 0-0.70313 0.314-0.70313 0.7031s0.31407 0.7031 0.70313 0.7031h5.5124c0.3891 0 0.7032-0.314 0.7032-0.7031s-0.3141-0.7031-0.7032-0.7031z" fill="#FF9F0A" stroke="#FF9F0A" stroke-width=".5"/><path d="m17.929 7.4664h-15.858c-0.77344 0-1.4062 0.63281-1.4062 1.4062v8.4376c0 0.7734 0.63281 1.4062 1.4062 1.4062h15.858c0.7734 0 1.4063-0.6328 1.4063-1.4062v-8.4376c0-0.77344-0.6329-1.4062-1.4063-1.4062zm-0.0023 9.8391-0.0024 0.0023h-15.848l-0.00235-0.0023v-8.4305l0.00235-0.00234h15.848l0.0024 0.00234v8.4305z" fill="#FF9F0A" stroke="#FF9F0A" stroke-width=".5"/></svg></a>
                
                    <a href="/friends/" class="navbar-menu link-button "><svg viewBox="0 0 29 26" xmlns="http://www.w3.org/2000/svg"><path d="m23.724 16.024c-0.2141 0-0.4282-0.0823-0.5929-0.247-0.0783-0.0777-0.1404-0.17-0.1828-0.2718-0.0424-0.1017-0.0642-0.2109-0.0642-0.3211 0-0.1103 0.0218-0.2194 0.0642-0.3212s0.1045-0.1941 0.1828-0.2718l2.9975-2.9975c0.6753-0.6752 0.1483-1.4987-0.4282-2.0752l-6.1762-6.1762c-0.4941-0.4941-0.8399-0.62586-1.0376-0.6588-0.1482-0.01647-0.3623-0.01647-0.6588 0.27999l-5.9785 5.9786c0.8729 0.55998 1.8611 0.62586 2.4869 0.08235 1.0706-0.93878 2.6023-2.6022 2.6187-2.6187 0.3129-0.34586 0.84-0.36234 1.1859-0.04941 0.3458 0.31293 0.3623 0.83997 0.0494 1.1858-0.0659 0.06588-1.6141 1.7458-2.7505 2.7505-1.4823 1.3011-3.821 0.9882-5.4515-0.72467-0.31293-0.3294-0.31293-0.85644 0.01643-1.1694l6.6209-6.6209c1.1529-1.1529 2.6846-1.0211 4.0846 0.37881l6.1762 6.1762c1.4987 1.4988 1.6634 3.2116 0.4282 4.4469l-2.9975 2.9975c-0.1647 0.1647-0.3789 0.247-0.593 0.247z" fill="#0A84FF" stroke="#0A84FF" stroke-width=".5"/><path d="m14.583 25c-0.1153 0-0.2471 0-0.3624-0.0165-0.7246-0.0988-1.4164-0.4446-1.9599-0.9882l-6.7032-6.7197c-1.12-1.1199-1.647-2.0093-2.1246-2.7834-0.27999-0.4611-0.54351-0.9058-0.90585-1.367-0.09881-0.1317-0.2141-0.2635-0.32939-0.3952-0.69174-0.84-1.12-1.3835-1.1529-1.9435 0-0.0329 0-0.0659-0.01647-0.0988-0.049413-0.4941-0.1647-1.5317 1.0211-2.7175l5.3527-5.3527c1.2023-1.2023 2.6187-0.51057 3.5575-0.03294l0.1482 0.06588c0.1483 0.06588 0.313 0.14823 0.4612 0.23058 0.9388 0.46115 2.1246 1.0211 3.1457 1.9105 0.3459 0.29646 0.3953 0.83996 0.0824 1.1858-0.2965 0.34587-0.84 0.39528-1.1858 0.08235-0.8565-0.74114-1.927-1.2517-2.7835-1.6635-0.1646-0.08235-0.3293-0.16469-0.494-0.23057l-0.1483-0.08235c-1.054-0.52704-1.334-0.57645-1.6305-0.27999l-5.3198 5.3527c-0.62586 0.62585-0.57645 0.9882-0.54351 1.3505 0 0.033 0 0.0494 0.01647 0.0824 0.08235 0.2141 0.54351 0.7576 0.79056 1.054 0.11529 0.1483 0.24705 0.2965 0.34586 0.4283 0.44469 0.5599 0.74115 1.054 1.0376 1.5481 0.46115 0.7741 0.88937 1.4988 1.8611 2.4705l6.7033 6.7032c0.2799 0.28 0.6423 0.4612 0.9882 0.5106 0.247 0.033 0.4611-0.0165 0.5764-0.1153 0.3294-0.3294 2.0093-1.8117 4.348-3.8704 1.3176-1.1529 2.7999-2.454 2.9481-2.6187 0.0165-0.0165 0.873-1.12 0.0824-1.9105l-6.1927-6.1927c-0.3294-0.3294-0.3294-0.85643 0-1.1858s0.8565-0.3294 1.1859 0l6.1926 6.1927c0.6918 0.6917 0.9553 1.614 0.7576 2.5857-0.1482 0.7247-0.527 1.3835-0.8399 1.6964-0.1812 0.1812-1.2188 1.087-3.0305 2.6846-1.7623 1.5482-3.9527 3.4752-4.2657 3.7881-0.3952 0.4117-0.9717 0.6423-1.614 0.6423z" fill="#0A84FF" stroke="#0A84FF" stroke-width=".5"/><path d="m21.566 18.643c-0.2141 0-0.4282-0.0823-0.5929-0.247l-3.014-3.014c-0.3294-0.3294-0.3294-0.8564 0-1.1858s0.8564-0.3294 1.1858 0l3.014 3.0139c0.0783 0.0777 0.1404 0.17 0.1828 0.2718s0.0643 0.2109 0.0643 0.3212c0 0.1102-0.0219 0.2194-0.0643 0.3211-0.0424 0.1018-0.1045 0.1942-0.1828 0.2718-0.1482 0.1647-0.3623 0.247-0.5929 0.247zm-2.1081 2.1246c-0.2141 0-0.4283-0.0823-0.593-0.247l-3.0139-3.014c-0.3294-0.3294-0.3294-0.8564 0-1.1858s0.8564-0.3294 1.1858 0l3.014 3.014c0.0783 0.0776 0.1404 0.1699 0.1828 0.2717s0.0642 0.2109 0.0642 0.3212c0 0.1102-0.0218 0.2194-0.0642 0.3211-0.0424 0.1018-0.1045 0.1942-0.1828 0.2718-0.1647 0.1647-0.3788 0.247-0.5929 0.247zm-2.2894 2.2894c-0.2141 0-0.4282-0.0824-0.5929-0.2471l-3.014-3.014c-0.3294-0.3294-0.3294-0.8564 0-1.1858s0.8565-0.3294 1.1859 0l3.014 3.014c0.0782 0.0776 0.1404 0.17 0.1828 0.2717 0.0424 0.1018 0.0642 0.2109 0.0642 0.3212 0 0.1102-0.0218 0.2194-0.0642 0.3212-0.0424 0.1017-0.1046 0.1941-0.1828 0.2717-0.1647 0.1647-0.3788 0.2471-0.593 0.2471z" fill="#0A84FF" stroke="#0A84FF" stroke-width=".5"/></svg></a>
                
                    <a href="/about/" class="navbar-menu link-button "><svg width="26" height="23" viewBox="0 0 26 23" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.6853 21.7135C18.4357 21.2996 18.5428 20.7631 18.9347 20.4805C21.7969 18.4177 23.3817 15.0547 23.097 11.4371C22.7227 6.67672 18.9394 2.75422 14.1954 2.20789C8.07773 1.50336 2.87016 6.2893 2.87016 12.2687C2.87016 14.1791 3.39305 16.0084 4.38914 17.6084C4.64367 18.0174 4.53773 18.5527 4.15125 18.8403C3.7125 19.1668 3.08414 19.0505 2.79539 18.586C1.54031 16.5676 0.921093 14.2419 1.00805 11.821C1.21781 5.98719 5.71125 1.06297 11.5064 0.359611C18.7875 -0.524218 25.0001 5.16031 25.0001 12.2687C25.0001 16.1736 23.1607 19.7401 20.032 21.9948C19.59 22.3133 18.9668 22.1802 18.6853 21.7135Z" fill="#FF453A" stroke="#FF453A" stroke-width="0.5"/><path d="M8.91445 11.4383C8.38406 11.4383 7.95422 11.0084 7.95422 10.478V9.48968C7.95422 8.95929 8.38406 8.52945 8.91445 8.52945C9.44484 8.52945 9.87468 8.95929 9.87468 9.48968V10.478C9.87468 11.0084 9.44461 11.4383 8.91445 11.4383ZM12.7177 11.4383C12.1873 11.4383 11.7574 11.0084 11.7574 10.478V9.48968C11.7574 8.95929 12.1873 8.52945 12.7177 8.52945C13.248 8.52945 13.6779 8.95929 13.6779 9.48968V10.478C13.6781 11.0084 13.248 11.4383 12.7177 11.4383ZM10.7639 15.8349C10.2019 15.8349 9.46312 15.5506 8.86664 15.2314C8.39156 14.9771 8.29711 14.3373 8.6782 13.9562C8.92945 13.7049 9.31593 13.647 9.62718 13.8184C9.98343 14.0143 10.4555 14.232 10.7932 14.232C11.2083 14.232 11.6067 14.1226 11.9555 13.9175C12.2639 13.7361 12.657 13.7968 12.9098 14.0497L12.9513 14.0912C13.3139 14.4537 13.257 15.0737 12.8166 15.3366C12.2112 15.6983 11.4877 15.8349 10.7639 15.8349Z" fill="#FF453A" stroke="#FF453A" stroke-width="0.5"/></svg></a>
                
            </div>
        
        
        

        
        
    <a href="javaScript:void(0);" id="btn-toggle-dark">

        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 22C17.567 22 22 17.567 22 12C22 6.43297 17.567 2 12 2C6.43297 2 2 6.43297 2 12C2 17.567 6.43297 22 12 22ZM12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z" fill="black"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.567 17.567 22 12 22V16.5C14.5184 16.5 16.56 14.5184 16.56 12C16.56 9.4816 14.5184 7.5 12 7.5V2C17.567 2 22 6.43298 22 12Z" fill="black"/>
            <path d="M12 16.56C9.48158 16.56 7.44 14.5184 7.44 12C7.44 9.48158 9.48158 7.44 12 7.44V16.56Z" fill="black"/>
            </svg>            
          
    </a>


        

        
            <a class="dropdown-icon link-button" id="btn-dropdown" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width='24' height='24' fill="none" stroke="currentColor" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round"><path fill="currentColor" d="M3.314,4.8h13.372c0.41,0,0.743-0.333,0.743-0.743c0-0.41-0.333-0.743-0.743-0.743H3.314c-0.41,0-0.743,0.333-0.743,0.743C2.571,4.467,2.904,4.8,3.314,4.8z M16.686,15.2H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,15.2,16.686,15.2z M16.686,9.257H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,9.257,16.686,9.257z"></path></svg></a>
            <div class="dropdown-menus" id="dropdown-menus">
                
                    <a href="/tags/" class="dropdown-menu link-button"><svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="m12.991 24.943c-2.0332 6e-4 -4.0325-0.5208-5.8064-1.5143l-4.2694 0.1708c-0.13194 4e-4 -0.26238-0.028-0.3823-0.083-0.11991-0.0551-0.22643-0.1355-0.3122-0.2358-0.07501-0.0974-0.12809-0.2099-0.1556-0.3298s-0.0288-0.2443-0.00379-0.3647l0.80835-3.1537c-1.4278-2.2486-2.067-4.9083-1.8167-7.5602 0.25029-2.6518 1.3758-5.145 3.1991-7.0868 1.8234-1.9418 4.2409-3.2216 6.8719-3.638 2.6308-0.41641 5.3255 0.05436 7.6594 1.3381 2.3338 1.2838 4.1743 3.3075 5.2312 5.7525 1.057 2.4449 1.2705 5.172 0.6069 7.7517-0.6637 2.5796-2.1668 4.8651-4.2725 6.4964-2.1056 1.6313-4.6942 2.5156-7.3579 2.5137v-0.0569zm-5.5901-3.222c0.15176-0.0012 0.3011 0.0381 0.43263 0.1138 1.9528 1.1274 4.223 1.5793 6.4586 1.2854 2.2357-0.2938 4.312-1.3169 5.9071-2.9106 1.5951-1.5938 2.62-3.6692 2.9158-5.9046 0.2958-2.2353-0.1541-4.5059-1.2798-6.4596-1.1257-1.9538-2.8645-3.4816-4.9468-4.3468-2.0822-0.86518-4.3918-1.0194-6.5706-0.4386-2.1788 0.58074-4.1052 1.864-5.4806 3.6508s-2.123 3.9774-2.127 6.2323c-0.00962 2.0653 0.61424 4.0839 1.7875 5.7837 0.06754 0.103 0.11346 0.2187 0.13499 0.3401 0.02153 0.1213 0.01821 0.2457-0.00975 0.3657l-0.62619 2.4137 3.4156-0.1252h-0.01138z" fill="#FF375F" stroke="#FF375F" stroke-width=".5"/><path d="m8.8519 17.777c-0.09331 0.016-0.18873 0.016-0.28205 0-0.10886-0.0381-0.20876-0.0975-0.2937-0.1747-0.08495-0.0771-0.15318-0.1703-0.2006-0.274s-0.07305-0.2158-0.07535-0.3295 0.01877-0.2267 0.06196-0.3322l2.9898-8.106c0.0387-0.10714 0.0991-0.20547 0.1774-0.28907 0.0784-0.0836 0.1731-0.15076 0.2785-0.19743 0.1053-0.04667 0.2192-0.0719 0.3348-0.07416 0.1155-0.00227 0.2303 0.01848 0.3375 0.06098 0.1098 0.03654 0.2107 0.09521 0.2963 0.17226 0.0855 0.07705 0.1538 0.17079 0.2005 0.27526 0.0467 0.10446 0.0708 0.21736 0.0707 0.33149 0 0.11413-0.0243 0.22699-0.0711 0.3314l-2.9898 8.1059c-0.07091 0.1571-0.18885 0.2891-0.33804 0.3784s-0.32253 0.1316-0.49683 0.1213zm4.2984 0.211c-0.0971 0.0157-0.1962 0.0157-0.2933 0-0.1098-0.0368-0.2108-0.0954-0.2967-0.1723-0.0858-0.0768-0.1547-0.1702-0.2023-0.2743-0.0476-0.1042-0.0729-0.2168-0.0744-0.331s0.0208-0.2275 0.0657-0.3328l3.001-8.0949c0.0355-0.10574 0.0921-0.20341 0.1666-0.28723s0.1653-0.15209 0.267-0.20077c0.1018-0.04868 0.2124-0.07678 0.3254-0.08265 0.1129-0.00587 0.226 0.01062 0.3324 0.0485 0.1063 0.03787 0.2039 0.09636 0.287 0.172 0.083 0.07564 0.1497 0.1669 0.1963 0.26838s0.072 0.21112 0.0747 0.32243c0.0028 0.11132-0.0171 0.22205-0.0586 0.32564l-3.001 8.106c-0.0616 0.157-0.17 0.2919-0.3109 0.387-0.141 0.0952-0.3079 0.1461-0.4789 0.146z" fill="#FF375F" stroke="#FF375F" stroke-width=".5"/><path d="m17.172 11.719h-8.747c-0.18725-0.0403-0.35559-0.1478-0.47651-0.3045s-0.18697-0.3528-0.18697-0.5552c0-0.2023 0.06605-0.3984 0.18697-0.5551s0.28926-0.2642 0.47651-0.3045h8.747c0.2197 0 0.4304 0.0924 0.5857 0.2569s0.2426 0.3876 0.2426 0.6203c0 0.2326-0.0873 0.4558-0.2426 0.6203s-0.366 0.2569-0.5857 0.2569v-0.0351zm-0.5743 4.2807h-8.7691c-0.21968 0-0.43036-0.0924-0.5857-0.2569s-0.24261-0.3876-0.24261-0.6203c0-0.2326 0.08727-0.4558 0.24261-0.6203s0.36602-0.2569 0.5857-0.2569h8.7691c0.2197 0 0.4304 0.0924 0.5857 0.2569s0.2426 0.3877 0.2426 0.6203c0 0.2327-0.0873 0.4558-0.2426 0.6203s-0.366 0.2569-0.5857 0.2569z" fill="#FF375F" stroke="#FF375F" stroke-width=".5"/></svg><p>话题</p></a>
                
                    <a href="/archives/" class="dropdown-menu link-button"><svg viewBox="0 0 20 19" xmlns="http://www.w3.org/2000/svg"><path d="m3.25 5.5609h13.5c0.3891 0 0.7031-0.31406 0.7031-0.70312 0-0.38907-0.314-0.70313-0.7031-0.70313h-13.5c-0.38906 0-0.70312 0.31406-0.70312 0.70313 0 0.38672 0.3164 0.70312 0.70312 0.70312zm1.5492-3.3797h10.402c0.389 0 0.7031-0.31406 0.7031-0.70312s-0.3141-0.70313-0.7031-0.70313h-10.402c-0.38906 0-0.70313 0.31407-0.70313 0.70313s0.31407 0.70312 0.70313 0.70312zm7.957 10.207h-5.5124c-0.38906 0-0.70313 0.314-0.70313 0.7031s0.31407 0.7031 0.70313 0.7031h5.5124c0.3891 0 0.7032-0.314 0.7032-0.7031s-0.3141-0.7031-0.7032-0.7031z" fill="#FF9F0A" stroke="#FF9F0A" stroke-width=".5"/><path d="m17.929 7.4664h-15.858c-0.77344 0-1.4062 0.63281-1.4062 1.4062v8.4376c0 0.7734 0.63281 1.4062 1.4062 1.4062h15.858c0.7734 0 1.4063-0.6328 1.4063-1.4062v-8.4376c0-0.77344-0.6329-1.4062-1.4063-1.4062zm-0.0023 9.8391-0.0024 0.0023h-15.848l-0.00235-0.0023v-8.4305l0.00235-0.00234h15.848l0.0024 0.00234v8.4305z" fill="#FF9F0A" stroke="#FF9F0A" stroke-width=".5"/></svg><p>历史文章</p></a>
                
                    <a href="/friends/" class="dropdown-menu link-button"><svg viewBox="0 0 29 26" xmlns="http://www.w3.org/2000/svg"><path d="m23.724 16.024c-0.2141 0-0.4282-0.0823-0.5929-0.247-0.0783-0.0777-0.1404-0.17-0.1828-0.2718-0.0424-0.1017-0.0642-0.2109-0.0642-0.3211 0-0.1103 0.0218-0.2194 0.0642-0.3212s0.1045-0.1941 0.1828-0.2718l2.9975-2.9975c0.6753-0.6752 0.1483-1.4987-0.4282-2.0752l-6.1762-6.1762c-0.4941-0.4941-0.8399-0.62586-1.0376-0.6588-0.1482-0.01647-0.3623-0.01647-0.6588 0.27999l-5.9785 5.9786c0.8729 0.55998 1.8611 0.62586 2.4869 0.08235 1.0706-0.93878 2.6023-2.6022 2.6187-2.6187 0.3129-0.34586 0.84-0.36234 1.1859-0.04941 0.3458 0.31293 0.3623 0.83997 0.0494 1.1858-0.0659 0.06588-1.6141 1.7458-2.7505 2.7505-1.4823 1.3011-3.821 0.9882-5.4515-0.72467-0.31293-0.3294-0.31293-0.85644 0.01643-1.1694l6.6209-6.6209c1.1529-1.1529 2.6846-1.0211 4.0846 0.37881l6.1762 6.1762c1.4987 1.4988 1.6634 3.2116 0.4282 4.4469l-2.9975 2.9975c-0.1647 0.1647-0.3789 0.247-0.593 0.247z" fill="#0A84FF" stroke="#0A84FF" stroke-width=".5"/><path d="m14.583 25c-0.1153 0-0.2471 0-0.3624-0.0165-0.7246-0.0988-1.4164-0.4446-1.9599-0.9882l-6.7032-6.7197c-1.12-1.1199-1.647-2.0093-2.1246-2.7834-0.27999-0.4611-0.54351-0.9058-0.90585-1.367-0.09881-0.1317-0.2141-0.2635-0.32939-0.3952-0.69174-0.84-1.12-1.3835-1.1529-1.9435 0-0.0329 0-0.0659-0.01647-0.0988-0.049413-0.4941-0.1647-1.5317 1.0211-2.7175l5.3527-5.3527c1.2023-1.2023 2.6187-0.51057 3.5575-0.03294l0.1482 0.06588c0.1483 0.06588 0.313 0.14823 0.4612 0.23058 0.9388 0.46115 2.1246 1.0211 3.1457 1.9105 0.3459 0.29646 0.3953 0.83996 0.0824 1.1858-0.2965 0.34587-0.84 0.39528-1.1858 0.08235-0.8565-0.74114-1.927-1.2517-2.7835-1.6635-0.1646-0.08235-0.3293-0.16469-0.494-0.23057l-0.1483-0.08235c-1.054-0.52704-1.334-0.57645-1.6305-0.27999l-5.3198 5.3527c-0.62586 0.62585-0.57645 0.9882-0.54351 1.3505 0 0.033 0 0.0494 0.01647 0.0824 0.08235 0.2141 0.54351 0.7576 0.79056 1.054 0.11529 0.1483 0.24705 0.2965 0.34586 0.4283 0.44469 0.5599 0.74115 1.054 1.0376 1.5481 0.46115 0.7741 0.88937 1.4988 1.8611 2.4705l6.7033 6.7032c0.2799 0.28 0.6423 0.4612 0.9882 0.5106 0.247 0.033 0.4611-0.0165 0.5764-0.1153 0.3294-0.3294 2.0093-1.8117 4.348-3.8704 1.3176-1.1529 2.7999-2.454 2.9481-2.6187 0.0165-0.0165 0.873-1.12 0.0824-1.9105l-6.1927-6.1927c-0.3294-0.3294-0.3294-0.85643 0-1.1858s0.8565-0.3294 1.1859 0l6.1926 6.1927c0.6918 0.6917 0.9553 1.614 0.7576 2.5857-0.1482 0.7247-0.527 1.3835-0.8399 1.6964-0.1812 0.1812-1.2188 1.087-3.0305 2.6846-1.7623 1.5482-3.9527 3.4752-4.2657 3.7881-0.3952 0.4117-0.9717 0.6423-1.614 0.6423z" fill="#0A84FF" stroke="#0A84FF" stroke-width=".5"/><path d="m21.566 18.643c-0.2141 0-0.4282-0.0823-0.5929-0.247l-3.014-3.014c-0.3294-0.3294-0.3294-0.8564 0-1.1858s0.8564-0.3294 1.1858 0l3.014 3.0139c0.0783 0.0777 0.1404 0.17 0.1828 0.2718s0.0643 0.2109 0.0643 0.3212c0 0.1102-0.0219 0.2194-0.0643 0.3211-0.0424 0.1018-0.1045 0.1942-0.1828 0.2718-0.1482 0.1647-0.3623 0.247-0.5929 0.247zm-2.1081 2.1246c-0.2141 0-0.4283-0.0823-0.593-0.247l-3.0139-3.014c-0.3294-0.3294-0.3294-0.8564 0-1.1858s0.8564-0.3294 1.1858 0l3.014 3.014c0.0783 0.0776 0.1404 0.1699 0.1828 0.2717s0.0642 0.2109 0.0642 0.3212c0 0.1102-0.0218 0.2194-0.0642 0.3211-0.0424 0.1018-0.1045 0.1942-0.1828 0.2718-0.1647 0.1647-0.3788 0.247-0.5929 0.247zm-2.2894 2.2894c-0.2141 0-0.4282-0.0824-0.5929-0.2471l-3.014-3.014c-0.3294-0.3294-0.3294-0.8564 0-1.1858s0.8565-0.3294 1.1859 0l3.014 3.014c0.0782 0.0776 0.1404 0.17 0.1828 0.2717 0.0424 0.1018 0.0642 0.2109 0.0642 0.3212 0 0.1102-0.0218 0.2194-0.0642 0.3212-0.0424 0.1017-0.1046 0.1941-0.1828 0.2717-0.1647 0.1647-0.3788 0.2471-0.593 0.2471z" fill="#0A84FF" stroke="#0A84FF" stroke-width=".5"/></svg><p>我的朋友们</p></a>
                
                    <a href="/about/" class="dropdown-menu link-button"><svg width="26" height="23" viewBox="0 0 26 23" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.6853 21.7135C18.4357 21.2996 18.5428 20.7631 18.9347 20.4805C21.7969 18.4177 23.3817 15.0547 23.097 11.4371C22.7227 6.67672 18.9394 2.75422 14.1954 2.20789C8.07773 1.50336 2.87016 6.2893 2.87016 12.2687C2.87016 14.1791 3.39305 16.0084 4.38914 17.6084C4.64367 18.0174 4.53773 18.5527 4.15125 18.8403C3.7125 19.1668 3.08414 19.0505 2.79539 18.586C1.54031 16.5676 0.921093 14.2419 1.00805 11.821C1.21781 5.98719 5.71125 1.06297 11.5064 0.359611C18.7875 -0.524218 25.0001 5.16031 25.0001 12.2687C25.0001 16.1736 23.1607 19.7401 20.032 21.9948C19.59 22.3133 18.9668 22.1802 18.6853 21.7135Z" fill="#FF453A" stroke="#FF453A" stroke-width="0.5"/><path d="M8.91445 11.4383C8.38406 11.4383 7.95422 11.0084 7.95422 10.478V9.48968C7.95422 8.95929 8.38406 8.52945 8.91445 8.52945C9.44484 8.52945 9.87468 8.95929 9.87468 9.48968V10.478C9.87468 11.0084 9.44461 11.4383 8.91445 11.4383ZM12.7177 11.4383C12.1873 11.4383 11.7574 11.0084 11.7574 10.478V9.48968C11.7574 8.95929 12.1873 8.52945 12.7177 8.52945C13.248 8.52945 13.6779 8.95929 13.6779 9.48968V10.478C13.6781 11.0084 13.248 11.4383 12.7177 11.4383ZM10.7639 15.8349C10.2019 15.8349 9.46312 15.5506 8.86664 15.2314C8.39156 14.9771 8.29711 14.3373 8.6782 13.9562C8.92945 13.7049 9.31593 13.647 9.62718 13.8184C9.98343 14.0143 10.4555 14.232 10.7932 14.232C11.2083 14.232 11.6067 14.1226 11.9555 13.9175C12.2639 13.7361 12.657 13.7968 12.9098 14.0497L12.9513 14.0912C13.3139 14.4537 13.257 15.0737 12.8166 15.3366C12.2112 15.6983 11.4877 15.8349 10.7639 15.8349Z" fill="#FF453A" stroke="#FF453A" stroke-width="0.5"/></svg><p>关于我</p></a>
                
            </div>
        
    </div>
</header>
</div>

            <main class="main">
    

<div class="post-title">
    <div class="post-title__text">
        创造 CANDY 主题，只为更好的交互
    </div>
    <div class="post-title__meta">
        <a href="/archives/2020/11/" class="post-meta__date link-button">2020 年 11 月 19 日</a>
        
    <!-- <span class="separate-dot"></span> -->
    <a href="/categories/%E6%8A%80%E6%9C%AF/" class="link-button">技术</a>

 
        
    
     
    <span id="busuanzi_container_page_pv" hidden>
        <span class="separate-dot"></span>
        <span></span>
        <span id="busuanzi_value_page_pv"></span>
        <span>Views</span>
    </span>



 

 
    </div>
</div>



<div class="post__header">
    
    
        <div class="post-cover lazy" data-bg="https://static.anzifan.com/uPic/c_l_1.png"></div>
    

<!-- theme.meta.thumbnail.default -->
    <div class="post__expire" id="post-expired-notify">
        <p>
            本文最后更新于 &lt;span id=&#34;expire-date&#34;&gt;&lt;/span&gt; 天前，文中部分描述可能已经过时。
        </p>
    </div>
    <script>
        (() => {
            var update = Date.parse("2021-02-11"),
                date = new Date(),
                now = date.getTime(),
                expire = now - update,
                expire_days = Math.floor(expire/(24*3600*1000));
            if (expire_days >= 180) {
                document.querySelectorAll('#expire-date')[0].innerHTML = expire_days;
                document.querySelectorAll('#post-expired-notify')[0].style.display = 'block';
            }
        })();
    </script>
</div>
<article class="post content-card">
    <div class="post__content">
        <article class="message is-info">   <div class="message-header">  <i class="fas fa-info-circle mr-2"></i>   <p>📚本系列文章，将分成四个板块更新</p>  </div>   <div class="message-body"> 
<ol><li><a href="/post/icarus_to_candy_1/"><strong>基础设计修改</strong></a>
  <span class="icon has-text-success">
  <i class="fas fa-check-square"></i>
</span></li>
<li>配置 Twikoo 评论</li>
<li>增加深色模式支持</li>
<li>其他细节与模块</li>
</ol></d/iv> </article>
<style>.message-header {
  justify-content: start !important;
}
  .message.is-info{
    width: 50%;
float: right;
margin-left: 20px;
    margin-bottom: 11px !important;
  }
  @media screen and (max-width: 768px){
    .message.is-info{
    width: 100%;
float: none;
margin-left: 0;
  }
  }
</style>
<p>众所周知，Icarus<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> 是一个非常优秀的 Hexo 主题。它不仅提供清爽、简洁的界面，还与各种主流插件、组件兼容的很好。更令人欣喜的是——它几乎是最活跃的 Hexo 主题之一，有着非常良好的社区氛围。作者时刻保持更新，并提供了非常完善的文档。</p>
<p>种种因素使我最终选择了它，并准备在其基础上修改出自己满意的设计，我将其命名为 <strong>Candy</strong>，并将在 <a target="_blank" rel="noopener" href="https://github.com/MannyCooper/hexo-theme-candy">GitHub</a> 上与 Icarus 保持更新。本文将是这一系列文章的第一节——基础设计修改。</p>
<article class="message message-immersive is-warning">
  <div class="message-body">
    <i class="fas fa-exclamation-triangle"></i>
    本人前端零基础，如有不妥，请在<a href="#twikoo">评论区</a>教我做事，谢谢🙏
  </div>
</article>
<h2 id="真正的卡片式设计——让最频繁的交互更人性化">真正的卡片式设计——让最频繁的交互更人性化</h2>
<h3 id="分析">分析</h3>
<p>Icarus 主题很美观，但对我来说它与许多 Hexo 主题一样都存在一个核心问题，即首页的文章如需访问全文，需要点击 <code>Read More</code> 按钮、图片或标题才可以进入，而点击主文字或卡片空白处是没有反应的，恰好很多博主喜欢把摘要写成长篇大论，此时的 <code>Read More</code> 按钮看起来更小，很容易被忽视，点击大段文字也许是很多读者的第一反应，虽然这并不会得到任何回应。</p>
<picture>
    <source srcset="https://static.anzifan.com/uPic/1_long_abstract_dark.png" media="(prefers-color-scheme: dark)">
    <source srcset="https://static.anzifan.com/uPic/1_long_abstract.png" media="(prefers-color-scheme: light)">
    <img class="adapt" src="https://static.anzifan.com/uPic/1_long_abstract.png" class="lazy" data-srcset="https://static.anzifan.com/uPic/1_long_abstract.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="大佬们的博客，长长的「摘要」使 Read More 按钮显得特别小">
</picture>
<p><strong>点击、进入全文，这应该是每个博客最频繁的交互。</strong>尴尬的小按钮难免给读者造成一些细微的障碍，当然如果对自己的内容足够自信，或者没那么讲究的话，你就可以跳过这一节了。</p>
<h3 id="尝试">尝试</h3>
<p>为了达成真正的卡片效果，我探索过一些方法。</p>
<p>我的第一反应是在 <code>&lt;article&gt;</code> 标签外套一层 <code>&lt;a&gt;</code> 标签然后设置 <code>href</code> 属性，同时 <code>&lt;article&gt;</code> 要设置成块级元素。于是我便在 <code>layout/common/article.jsx</code> 中这样修改：</p>
<pre><div class="caption"><span>layout/common/article.jsx</span></div><code class="hljs jsx">&lt;a <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;card-link&quot;</span> href=&#123;index ? url_for(page.link || page.path):<span class="hljs-literal">null</span>&#125;&gt;
  &lt;article <span class="hljs-class"><span class="hljs-keyword">class</span></span>=&#123;<span class="hljs-string">`card-content article<span class="hljs-subst">$&#123;<span class="hljs-string">&#x27;direction&#x27;</span> <span class="hljs-keyword">in</span> page ? <span class="hljs-string">&#x27; &#x27;</span> + page.direction : <span class="hljs-string">&#x27;&#x27;</span>&#125;</span>`</span>&#125; role=<span class="hljs-string">&quot;article&quot;</span>&gt;
  ...
  &lt;/article&gt;
&lt;/a&gt;</code></pre>
<p>感觉非常合理，但其实并不行，如果这样操作，在实际页面中，<code>&lt;a&gt;</code> 标签并不会正确包裹，反而会被添加到 <code>&lt;article&gt;</code> 元素下每个子元素的首位。我并不确定是什么原因，但是根据 Stack Overflow 上的一篇<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/38367002/make-entire-article-tag-a-link/38367067#38367067">回答</a>中的评论：</p>
<blockquote>
<p>You should really point out (by suggesting this way) that: using this solution you <strong>cannot have other Anchor elements inside the article</strong>.<a target="_blank" rel="noopener" class="quote_src" href="https://stackoverflow.com/questions/38367002/make-entire-article-tag-a-link/38367067#comment64146037_38367067">Roko C. Buljan Jul 14 '16 at 6:51</a></p>
</blockquote>
<p>貌似如果想这样操作的话，子元素不能再有其他 <code>&lt;a&gt;</code> 元素。我便以为是不可以的，当时就作罢了。</p>
<p>接下来，我尝试在外面先套一层 <code>&lt;object&gt;</code> 标签，再套 <code>&lt;a&gt;</code> 标签链接到正文，这样我们就实现了整张卡片可点击的效果。</p>
<pre><div class="caption"><span>layout/common/article.jsx</span></div><code class="hljs jsx">&lt;a <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;card-link&quot;</span> href=&#123;index ? url_for(page.link || page.path) : <span class="hljs-literal">null</span>&#125;&gt;
  &lt;object <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;card-object&quot;</span>&gt;
    &lt;article <span class="hljs-class"><span class="hljs-keyword">class</span></span>=&#123;<span class="hljs-string">`card-content article<span class="hljs-subst">$&#123;<span class="hljs-string">&#x27;direction&#x27;</span> <span class="hljs-keyword">in</span> page ? <span class="hljs-string">&#x27; &#x27;</span> + page.direction : <span class="hljs-string">&#x27;&#x27;</span>&#125;</span>`</span>&#125; role=<span class="hljs-string">&quot;article&quot;</span>&gt;
      ...
    &lt;/article&gt;
  &lt;/object&gt;
&lt;/a&gt;</code></pre>
<p>这样确实可以了，本来这一段到这里就结束了，但我想起了<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/object">文档</a>里对 <code>&lt;object&gt;</code> 标签的描述：</p>
<blockquote>
<p><strong>HTML <code>&lt;object&gt;</code> 元素</strong>（或者称作 <em>HTML 嵌入对象元素</em>）表示引入一个<strong>外部资源</strong>，这个资源可能是一张图片，一个嵌入的浏览上下文，亦或是一个插件所使用的资源。<a target="_blank" rel="noopener" class="quote_src" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/object">MDN</a></p>
</blockquote>
<p>啊这，有一丝隐隐的不安<img class="not-gallery-item" src="https://static.anzifan.com/uPic/1_meme_cat_think.jpeg" class="lazy" data-srcset="https://static.anzifan.com/uPic/1_meme_cat_think.jpeg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" style="width:28px;" />。迅速查了下 SEO，发现目前 Google 是会索引 <code>object</code> 元素的，但心里就是不舒服，毕竟不太符合语义。</p>
<p>于是乎，就换来了接下来的方法，也是最终的实现方法。</p>
<h3 id="解法">解法</h3>
<p>这种方法的思路其实和第一种是一致的，但是具体实现有区别，这次我们不在 <code>article.jsx</code> 里修改了，直接在 <code>source/js/main.js</code> 最底下添加：</p>
<pre><code class="hljs js"><span class="hljs-keyword">if</span> ($(<span class="hljs-string">&#x27;.article-licensing.box&#x27;</span>).length === <span class="hljs-number">0</span>)&#123;
  $(<span class="hljs-string">&quot;.card-content.article&quot;</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;
    $(<span class="hljs-built_in">this</span>).wrap(<span class="hljs-string">&#x27;&lt;a class=&quot;card-link&quot; href=&quot;&#x27;</span> + $(<span class="hljs-built_in">this</span>).find(<span class="hljs-string">&#x27;h1 a&#x27;</span>).attr(<span class="hljs-string">&#x27;href&#x27;</span>) + <span class="hljs-string">&#x27;&quot;&gt;&lt;/a&gt;&#x27;</span>);
  &#125;)&#125;</code></pre>
<p>其实就是用了 jQuery 的 <code>warp()</code> 方法<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>，这里我们指定 <code>&lt;a&gt;</code> 元素来包裹 <code>&lt;article&gt;</code> 元素。同时因为我们只需要在首页让这些卡片有链接，所以我们可以通过判断正文末尾的版权信息盒子是否存在，来控制这条语句是否生效。</p>
<p>我们还需要设置一下 <code>card-link</code> 的 <code>color</code> 为 <code>inherit</code>，这样摘要的颜色就会恢复成白色，否则会是你 <code>a</code> 标签的颜色（自定义 CSS 的方法在后文）：</p>
<pre><code class="hljs stylus">.card-link
    <span class="hljs-attribute">color</span>: inherit</code></pre>
<p>这样我们就实现了整个卡片可点击，且卡片里原有的分类链接照样可以点击并不受影响。但我并不知道为何第一种和第三种方法会有这样的差异，如果有大佬清楚请在<a href="#twikoo">评论区</a>解答我，谢谢。</p>
<h2 id="加入一点动效会让体验更好吗？答案是肯定的">加入一点动效会让体验更好吗？答案是肯定的</h2>
<p>所谓「交互」，代表着交流和互动。一个好的交互设计，组件与用户的互动是必不可少的。互联网厂商们早已发现了这一逻辑，并将这些互动悄悄藏在设计里，通过微小的震动、令人愉悦的变换俘获用户的感官。</p>
<p>简单来说，光将整张卡片链接到正文还不够，它得是让用户有感知的，这个感知就由动效来实现。</p>
<p>废话少说，先上效果图👇：</p>
<p style="text-align: center">
<picture>
    <source srcset="https://static.anzifan.com/uPic/1_card_dark.gif" media="(prefers-color-scheme: dark)">
    <source srcset="https://static.anzifan.com/uPic/1_card_light.gif" media="(prefers-color-scheme: light)">
    <img class="adapt" src="https://static.anzifan.com/uPic/1_card_light.gif" class="lazy" data-srcset="https://static.anzifan.com/uPic/1_card_light.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="动图可能看不太清楚，可自行在本博客体验效果，深色模式和浅色模式下会有细微的差别">
</picture>
</p>
<p>为实现这个效果，我增加了：</p>
<ul>
<li>
<p>向上的位移</p>
</li>
<li>
<p>阴影的变换</p>
</li>
<li>
<p>题图的变大（深色模式下，还增加了题图的变暗）</p>
</li>
</ul>
<p>我希望能用纯 CSS 解决的，尽量只用 CSS。为了后期与 Icarus 同步更方便，我们修改 <code>source/css</code> 目录下的 <code>style.styl</code> 来自定义样式。Icarus 使用 Stylus<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup> 作为 CSS 预处理器。它的定义生效规则是：</p>
<blockquote>
<p>一个变量不能影响在定义它以前的输出样式。<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></p>
</blockquote>
<p>所以为了方便，我们可以把所有自定义样式放在最前面，把 <code>@import</code> 放在最后。</p>
<h3 id="位移与阴影">位移与阴影</h3>
<p>首先，我们将位移与阴影一起添加，效果模仿自 <a target="_blank" rel="noopener" href="https://gridsome.org/starters/gridsome-blog-starter/">Gridsome Blog Starter</a> 🙏。</p>
<p>因为我不希望在正文处也出现动效，同时希望尽可能用纯 CSS 解决，所以我在 <code>article.jsx</code> 最前面添加一个只在正文生效的空的 <code>div</code> 元素，并通过 class 名「controller」来控制：</p>
<pre><div class="caption"><span>article.jsx</span></div><code class="hljs jsx"><span class="hljs-keyword">return</span> &lt;Fragment&gt;
  <span class="hljs-comment">// 通过判断 index 是否存在，来决定是否是正文。</span>
  &#123;!index ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#123;</span>&#x27;<span class="hljs-attr">controller</span>&#x27;&#125;&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>: <span class="hljs-literal">null</span>&#125;
  ...
&lt;/Fragment&gt;</code></pre>
<p>这样一来，正文的最前面就会多一个空的、class 名为「controller」的 <code>div</code> 元素。接下来我们写伪类：</p>
<pre><code class="hljs stylus"><span class="hljs-selector-class">.order-2</span> <span class="hljs-selector-class">.card</span>:hover
    <span class="hljs-attribute">transform</span>: translateY(-<span class="hljs-number">5px</span>)
    box-shadow: 1px 10px 30px 0 rgba(0,0,0,.1)
    -webkit-<span class="hljs-attribute">transform</span>: translateY(-<span class="hljs-number">5px</span>)
    -webkit-box-shadow: 1px 10px 30px 0 rgba(0,0,0,.1)

<span class="hljs-comment">// 将兄弟元素为 .controller 的 .card 的 :hover 样式重制（无效化）</span>
<span class="hljs-selector-class">.order-2</span> <span class="hljs-selector-class">.controller</span> ~ <span class="hljs-selector-class">.card</span>:hover
    <span class="hljs-attribute">transform</span>: none
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">10px</span> rgba(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.05</span>), <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1px</span> rgba(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>)
    -webkit-<span class="hljs-attribute">transform</span>: none
    -webkit-<span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">10px</span> rgba(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.05</span>), <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1px</span> rgba(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>)

<span class="hljs-comment">// 加入过渡效果</span>
.card
    <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">0.3s</span> ease-out, transform <span class="hljs-number">0.3s</span> ease-out, box-shadow <span class="hljs-number">0.6s</span> !important</code></pre>
<p>可以看出来，这样写会有一些啰嗦和冗余，我尝试过一些想法都不太好，比如将 <code>index</code> 判断反写，把「controller」加在首页最上方，但 Icarus 原版的 <code>&lt;Fragment&gt;</code> 元素写法，会在每个卡片上加上一个 <code>div</code> 元素，从而打乱布局，让菜菜的我觉得麻烦<img class="not-gallery-item" src="https://static.anzifan.com/uPic/1_meme_cat_shock.JPG" class="lazy" data-srcset="https://static.anzifan.com/uPic/1_meme_cat_shock.JPG" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" style="width:28px;" />，所以先就这样，日后再改。</p>
<p>如果有大佬们有更好的解决方案，请在<a href="#twikoo">评论区</a>赐教。</p>
<details class="callout"> 
<summary><b>点击展开查看</b>：一个现在不兼容，但未来可能可以的做法。</summary>
<p>菜菜的我本来很辛苦的摸索了出来这种写法，结果发现目前只有 Safari 和最新版本的 Firefox 可以<a target="_blank" rel="noopener" href="https://caniuse.com/css-not-sel-list">比较好的支持</a><img class="not-gallery-item" src="https://static.anzifan.com/uPic/1_meme_panda_tired.JPG" class="lazy" data-srcset="https://static.anzifan.com/uPic/1_meme_panda_tired.JPG" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" style="width:32px;" />，这取决于浏览器对 CSS Selector Level 4 的支持程度（Safari 91% 支持，而 Chrome 只有 88%，这个特性恰好在这不支持的 3% 里）。</p>
<p>简单来说就是 <code>:not</code> 里嵌套兄弟选192择器 <code>~</code>：</p>
<pre><code class="hljs stylus"><span class="hljs-selector-class">.order-2</span> &gt; :not(<span class="hljs-selector-class">.controller</span> ~ .card):hover
    <span class="hljs-attribute">transform</span>: translateY(-<span class="hljs-number">5px</span>)
    box-shadow: 1px 10px 30px 0 rgba(0,0,0,.1)
    -webkit-<span class="hljs-attribute">transform</span>: translateY(-<span class="hljs-number">5px</span>)
    -webkit-box-shadow: 1px 10px 30px 0 rgba(0,0,0,.1)</code></pre>
<p>很好理解，这个选择器会选择兄弟不为 <code>.controller</code> 的 <code>.card</code>，这样只需要这一个语句即可。</p>
<p>关于这一特性的详细可以看 <a target="_blank" rel="noopener" href="https://drafts.csswg.org/selectors-4/#negation">W3C Editor’s Draft</a> 和 <a target="_blank" rel="noopener" href="https://css4-selectors.com/selector/css4/negation-pseudo-class/">CSS4 Selectors</a>，另附 <a target="_blank" rel="noopener" href="https://caniuse.com/css-not-sel-list">Can I use 兼容情况</a>。</p>
</details>
<h3 id="题图">题图</h3>
<p>最后我们添加题图放大的动效，这里的效果模仿自 Apple 官网的 <a target="_blank" rel="noopener" href="https://www.apple.com/newsroom/">Newsroom</a> 📰，注意 <code>:hover</code> 的写法，我希望鼠标放在卡片上时就激活（而不仅仅是放在题图上）：</p>
<pre><div class="caption"><span>style.styl</span></div><code class="hljs stylus"><span class="hljs-selector-class">.card</span>:hover
    <span class="hljs-selector-class">.card-image</span> a
        -webkit-<span class="hljs-attribute">transform</span>: scale(<span class="hljs-number">1.03</span>)
        <span class="hljs-attribute">transform</span>: scale(<span class="hljs-number">1.03</span>)

<span class="hljs-comment">// 加入过渡效果</span>
<span class="hljs-selector-class">.card</span> <span class="hljs-selector-class">.card-image</span> a
    -webkit-<span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> cubic-bezier(<span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.25</span>, <span class="hljs-number">1</span>),
    -webkit-<span class="hljs-attribute">transform</span> <span class="hljs-number">400ms</span> cubic-bezier(<span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.25</span>, <span class="hljs-number">1</span>),<span class="hljs-number">200ms</span> -webkit-filter linear
    <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span> cubic-bezier(<span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.25</span>, <span class="hljs-number">1</span>),
    <span class="hljs-attribute">transform</span> <span class="hljs-number">400ms</span> cubic-bezier(<span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.25</span>, <span class="hljs-number">1</span>),<span class="hljs-number">200ms</span> filter linear</code></pre>
<p>细心的朋友可能会发现，光这样还不完美——图片在变换的过程中会先取消圆角，再恢复圆角，也就是说中间会有一段时间「四角方方」，这是我们不愿意看到的，解决方法也很简单，再添加一个 0 度的旋转<sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup>即可：</p>
<pre><code class="hljs stylus"><span class="hljs-comment">// 修复变换时的圆角</span>
.card-image
    <span class="hljs-attribute">transform</span>: rotate(<span class="hljs-number">0deg</span>)
    -webkit-<span class="hljs-attribute">transform</span>: rotate(<span class="hljs-number">0deg</span>)</code></pre>
<p>在黑暗模式下我还加入了题图变暗的效果。关于黑暗模式我会在之后详解，就不在本文中赘述了：</p>
<pre><code class="hljs stylus">-webkit-<span class="hljs-attribute">filter</span>: brightness(<span class="hljs-number">70%</span>)
<span class="hljs-attribute">filter</span>:brightness(<span class="hljs-number">70%</span>)</code></pre>
<p>至此，我们便完成了一个用户友好的卡片设计，它整张卡片可点击，且有合适的动效互动，但这并不是 Candy 主题的全部，还有很多细节性的动效就不在这里赘述了，感兴趣的话可以去查看 <a target="_blank" rel="noopener" href="https://github.com/MannyCooper/hexo-theme-candy/blob/publish/source/css/style.styl"><code>style.styl</code> 源码</a>。</p>
<h2 id="「跟着走」的导航栏，贴心而不恼人">「跟着走」的导航栏，贴心而不恼人</h2>
<p>最后，我想我需要一个会跟随页面的导航栏，它得是贴心的——当你需要它的时候，比如回首页、切换浅色/深色模式、搜索，它就在那里；它还得是不恼人的——它不应该遮挡太多，影响到正文或视觉平衡，它得是灵巧的，且更好的适配响应式设计。</p>
<h3 id="跟着走？No！它只是固定在那里">跟着走？No！它只是固定在那里</h3>
<p>导航栏不会真的跟着走的，我们只是给它添加一个 <code>position</code> 为 <code>fixed</code>的样式<img class="not-gallery-item" src="https://static.anzifan.com/uPic/1_meme_cat_awesome.jpg" class="lazy" data-srcset="https://static.anzifan.com/uPic/1_meme_cat_awesome.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" style="width:28px;" />。这么做的同时还需要调整 <code>width</code> 为 <code>100%</code> 并将下一个元素 <code>section</code> 下移：</p>
<pre><code class="hljs stylus">.navbar-main
    <span class="hljs-attribute">position</span>: fixed !important
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span> !important
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0px</span>

.section
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">45px</span></code></pre>
<p>当然，也可以采用 <code>sticky</code> 不过兼容性会<a target="_blank" rel="noopener" href="https://caniuse.com/?search=sticky">差一些</a>，在此案例中效果是一样的。使用 <code>sticky</code> 就不需要设置 <code>section</code> 的下移，不过需要设置 <code>top</code> 属性：</p>
<pre><code class="hljs stylus">.navbar-main
    <span class="hljs-attribute">position</span>: sticky !important
    <span class="hljs-attribute">position</span>: -webkit-sticky !important
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0px</span></code></pre>
<h3 id="「瘦身」-「毛玻璃」，让导航栏灵巧一些">「瘦身」+「毛玻璃」，让导航栏灵巧一些</h3>
<p>接下来我想让导航栏看起来更轻巧一些，于是缩窄了导航栏的高度并加入了所谓「毛玻璃」效果。</p>
<h4 id="「瘦身」">「瘦身」</h4>
<p>通过修改 <code>navbar-item</code> 的内外边距来缩窄高度：</p>
<pre><code class="hljs stylus">.navbar-item
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">4px</span> !important
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">8.5px</span> !important</code></pre>
<p>同时 Icarus 原版对于移动端的处理是将 logo 放在一个自适应的 <code>div</code> 里，当屏幕宽度小于 1088 px 的时候，导航栏会分成上下两行。</p>
<p>但这对于一个一直固定在顶端的导航栏来说太大了，所以这里我做了个修改，将自适应去掉，把 logo 也放在 <code>navbar-menu</code> 里：</p>
<pre><div class="caption"><span>layout/common/navbar.jsx</span></div><code class="hljs diff"><span class="hljs-deletion">- &lt;div class=&quot;navbar-brand justify-content-center&quot;&gt;</span>
<span class="hljs-deletion">-	&lt;a class=&quot;navbar-item navbar-logo&quot; href=&#123;siteUrl&#125;&gt;&#123;navbarLogo&#125;&lt;/a&gt;</span>
<span class="hljs-deletion">- &lt;/div&gt;</span>
 &lt;div class=&quot;navbar-menu&quot;&gt;
<span class="hljs-addition">+	&lt;a class=&quot;navbar-item navbar-logo&quot; href=&#123;siteUrl&#125;&gt;&#123;navbarLogo&#125;&lt;/a&gt;</span>
	...
 &lt;/div&gt;</code></pre>
<p>效果图：</p>
<p style="text-align: center">
<picture>
    <source srcset="https://static.anzifan.com/uPic/1_navbar_dark.png" media="(prefers-color-scheme: dark)">
    <source srcset="https://static.anzifan.com/uPic/1_navbar.png" media="(prefers-color-scheme: light)">
    <img class="adapt" src="https://static.anzifan.com/uPic/1_navbar.png" class="lazy" data-srcset="https://static.anzifan.com/uPic/1_navbar.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="改动后的导航栏更窄更清爽了（右）">
</picture>
</p>
<p>当然，还有些更好的方案，比如制作下拉菜单栏，以解决导航栏里的标签页太多超出屏幕宽度的问题，可以见这个旧版本的 <a target="_blank" rel="noopener" href="https://github.com/ppoffice/hexo-theme-icarus/pull/616">PR</a>。有空的时候我会改进导航栏，如果真的有人看的话。</p>
<h4 id="「毛玻璃」">「毛玻璃」</h4>
<p>所谓「毛玻璃」，更专业一点的说法叫「Backdrop Filter effect」，即背景过滤效果。所以核心就是 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/backdrop-filter"><code>backdrop-filter</code> 样式</a>。我这里依旧模仿的 Apple <a target="_blank" rel="noopener" href="https://www.apple.com/newsroom/">Newsroom</a>，将 <code>navbar</code> 背景色变透明并增加饱和度和模糊：</p>
<pre><code class="hljs stylus">.navbar
    -webkit-backdrop-<span class="hljs-attribute">filter</span>: saturate(<span class="hljs-number">180%</span>) blur(<span class="hljs-number">20px</span>)
    backdrop-<span class="hljs-attribute">filter</span>: saturate(<span class="hljs-number">180%</span>) blur(<span class="hljs-number">20px</span>)
    <span class="hljs-attribute">background-color</span>: rgba(<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">0.7</span>) !important
    <span class="hljs-comment">//黑暗模式下颜色为 rgba(29,29,31,0.7)</span></code></pre>
<p>再将 <code>navbar-menu</code> 背景设为透明，这样小尺寸屏幕下也能正常显示：</p>
<pre><code class="hljs stylus"><span class="hljs-selector-class">.navbar-main</span> .navbar-menu
    <span class="hljs-attribute">background-color</span>: transparent</code></pre>
<p>效果图：</p>
<p style="text-align: center">
<picture>
    <source srcset="https://static.anzifan.com/uPic/1_navbar_dark.gif" media="(prefers-color-scheme: dark)">
    <source srcset="https://static.anzifan.com/uPic/1_navbar_light.gif" media="(prefers-color-scheme: light)">
    <img class="adapt" src="https://static.anzifan.com/uPic/1_navbar_light.gif" class="lazy" data-srcset="https://static.anzifan.com/uPic/1_navbar_light.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg==" alt="">
</picture>
</p>
<h3 id="最后，修复锚元素定位">最后，修复锚元素定位</h3>
<p>我们固定了导航栏，紧接着问题就来了。你会发现之前的页内锚元素跳转全都错位了（比如目录、脚注），更准确的来说是正好被现在的导航栏所遮挡，所以我们要来修复这个 bug。</p>
<h4 id="脚注修复">脚注修复</h4>
<p>先来修复简单的，修复脚注我们只需要用到 CSS（因为新版目录是用 JavaScript 来控制 <code>href</code> 属性值的，这个方法就不行了)，这里我们用到一个小技巧，即用 <code>:target</code> 去定位目标元素，并用 <code>::before</code> 在前面加一个空的行内元素，然后通过 <code>padding-top</code> 和 <code>margin-top</code> 配合来控制位置这样就修复了正文到脚注的跳转错位：</p>
<pre><code class="hljs stylus">:target::before 
    <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>
    <span class="hljs-attribute">display</span>: inline-block
    <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">73px</span>
    <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">73px</span></code></pre>
<p>稍微解释一下，这里就是先用 <code>padding-top</code> 将这个空的 <code>inline-block</code> 移动到距离其容器上方 N px 的位置，然后通过 <code>margin-top</code> 将这个容器整体上移 N px 的位置，这样我们就可以通过调整 N 的值来控制元素的位置。</p>
<p>同理，我们还需要修复下脚注到正文的跳转：</p>
<pre><code class="hljs stylus"><span class="hljs-selector-class">.footnote-item</span>::before 
    <span class="hljs-attribute">display</span>: block
    <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">55px</span>
    <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">55px</span>
    <span class="hljs-attribute">margin-bottom</span>: -<span class="hljs-number">25px</span></code></pre>
<p>这里有一些细微的差别，因为脚注是一个列表，列表的元素应该按一整条一整条来看，所以我们把 <code>display</code> 改为 <code>block</code>，再按照之前的方法适当调整一下距离，最后我们还需要通过 <code>margin-bottom</code> 来对齐文本和序号。</p>
<h4 id="目录修复">目录修复</h4>
<p>如果你不需要一个「随着滚动到不同位置，动态折叠展开」的目录，你可以使用<a target="_blank" rel="noopener" href="https://github.com/MannyCooper/hexo-theme-candy/blob/d6524f98b0faeb866172b4a9a948ee9dc4c81081/source/js/toc.js">这个</a>旧版本的 <code>toc.js</code>，并且采用上面修复脚注的方式来修复错位，这里我就不赘述了。</p>
<p>如果你需要这样一个「智能」的目录，请采用<a target="_blank" rel="noopener" href="https://github.com/MannyCooper/hexo-theme-candy/blob/465b3a7342d99981972075c8d7bd0228be699a69/source/js/toc.js">最新版本</a>的 <code>toc.js</code> 并把它放在 <code>source/js</code> 里，这里我只说下对于错位的修复。</p>
<p>首先在 <code>source/js/toc.js</code> 中创建一个 <code>scrollTo</code> 方法来代替不支持偏移量的 <code>scrollIntoView</code> 方法：</p>
<pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scrollTo</span>(<span class="hljs-params">id</span>) </span>&#123;
  <span class="hljs-keyword">var</span> element = <span class="hljs-built_in">document</span>.getElementById(id);
  <span class="hljs-keyword">var</span> headerOffset = -<span class="hljs-number">20</span>; <span class="hljs-comment">// 偏移量</span>
  <span class="hljs-keyword">var</span> elementPosition = element.offsetTop;
  <span class="hljs-keyword">var</span> offsetPosition = elementPosition - headerOffset;
  <span class="hljs-built_in">document</span>.documentElement.scrollTop = offsetPosition;
  <span class="hljs-built_in">document</span>.body.scrollTop = offsetPosition; <span class="hljs-comment">// 适配 Safari</span>
&#125;</code></pre>
<p>没有什么可说的，非常好理解，然后在下面替换即可：</p>
<pre><code class="hljs diff">if (typeof $heading.scrollTo <span class="hljs-comment">=== &#x27;function&#x27;) &#123;</span>
<span class="hljs-deletion">- $heading.scrollIntoView(&#123; behavior: &#x27;smooth&#x27; &#125;);</span>
<span class="hljs-addition">+ scrollTo($heading.id);</span>
&#125;</code></pre>
<p>就是这么简单，我们完成了所有错位修复。</p>
<h2 id="写在最后的、其他的一些玩意儿">写在最后的、其他的一些玩意儿</h2>
<p>感谢你看到这里，零基础的我可能比较啰嗦，这当然不是我在视觉和交互上做出的全部修改，尽量挑了些对我来说比较有代表性的「坑」，大佬们见笑了。一些细枝末节的修改，网络上可能已经有无数篇相同的文章教你如何去操作了，我就不费口舌了。当然如果你有任何疑问、评价或想教我做事儿，也请不要吝啬，<strong>请在文末的评论区给我留言</strong>，我会第一时间回复。</p>
<p>这是 Candy 主题修改系列的第一篇，应该也是最零碎的一篇，我非常迫不及待地想分享关于黑暗模式的实现，但是先忍住，下一篇将会是关于 Twikoo 的，一个非常崭新的评论系统，美观、安全、易用、免登录、免费等等，虽然它还有很长的路要走，但目前配得上这些美好的词汇。希望我能在官方作者写出详细教程之前发布（逃）。</p>
<p>本文完。</p>
<a class="tag is-medium" href="mailto:541297173@qq.com?subject=「创造 CANDY 主题，只为更好的交互」一文的封面图授权申请" target="_blank">
<span class="icon" style="word-wrap: break-word;"><i class="fas fa-palette"></i></span>原创封面图，使用需<b>授权</b>，请勿盗用 </a>
<h2 id="脚注">脚注</h2>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a target="_blank" rel="noopener" href="https://github.com/ppoffice/hexo-theme-icarus">Icarus 主题的 GitHub 仓库主页</a> <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p><strong><a target="_blank" rel="noopener" href="https://api.jquery.com/wrap/">.wrap( wrappingElement )</a></strong>: <em>Wrap an HTML structure around each element in the set of matched elements.</em> <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>Stylus 是富于表现力、健壮、功能丰富的 CSS 预处理器，详见<a target="_blank" rel="noopener" href="https://stylus-lang.com">官网</a>。 <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn4" class="footnote-item"><p><a target="_blank" rel="noopener" href="https://efe.baidu.com/blog/revisiting-css-preprocessors/#%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F">再谈 CSS 预处理器｜变量作用域 - Justineo</a> <a href="#fnref4" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn5" class="footnote-item"><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011456552/article/details/53464157">图片transform其父级的border-radius失效 - 沈志勇说</a> <a href="#fnref5" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>

    </div>
    
<div class="post__license">
    <div class="license_title">
        <p>
            创造 CANDY 主题，只为更好的交互
        </p>
        <p>
            <a href="https://anzifan.com/post/icarus_to_candy_1/">https://anzifan.com/post/icarus_to_candy_1/</a>
        </p>
    </div>
    <div class="license-meta level is-mobile">
        <div class="level-left">
            <div class="level-item is-narrow">
                <div>
                    <h6>作者</h6>
                    <p>异次元de机智君 </p>
                </div>
            </div>
            <div class="level-item is-narrow">
                <div>
                    <h6>发布于</h6>
                    <p>2020 年 11 月 19 日</p>
                </div>
            </div>
            <div class="level-item is-narrow">
                <div>
                    <h6>更新于</h6>
                    <p>2021 年 02 月 11 日</p>
                </div>
            </div>
            <div class="level-item is-narrow">
                <div>
                    <h6>许可协议</h6>
                    <p><a class="icon" rel="noopener" target="_blank" title="Creative Commons"
                            href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a
                            class="icon" rel="noopener" target="_blank" title="Attribution"
                            href="https://creativecommons.org/licenses/by/4.0/"><i
                                class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener"
                            target="_blank" title="Noncommercial"
                            href="https://creativecommons.org/licenses/by-nc/4.0/"><i
                                class="fab fa-creative-commons-nc"></i></a></p>
                </div>
            </div>
        </div>
    </div>
    
</div>
 
    <div class="post-footer__meta"><p>更新于 2021 年 02 月 11 日</p></div> 
    <div class="post-meta__cats"><a href="/categories/%E6%8A%80%E6%9C%AF/" class="post-cats__link link-button">技术</a><a href="/tags/Hexo/" class="post-tags__link link-button"># Hexo</a><a href="/tags/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98/" class="post-tags__link link-button"># 博客主题</a><a href="/tags/%E5%89%8D%E7%AB%AF/" class="post-tags__link link-button"># 前端</a><a href="/tags/%E4%BA%A4%E4%BA%92%E8%AE%BE%E8%AE%A1/" class="post-tags__link link-button"># 交互设计</a></div> 
</article>


    <div class="nav">
        <div class="nav__prev">
            
                <a href="/post/test%E7%9A%84%E5%89%AF%E6%9C%AC8/" class="nav__link">
                    <div class="nav__cover" style="background-image: url('https://static.anzifan.com/uPic/c_l_1.png');"></div>
                    <div>
                        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M589.088 790.624L310.464 512l278.624-278.624 45.248 45.248L400.96 512l233.376 233.376z" fill="#808080"></path></svg>
                    </div>
                    <div>
                        <div class="nav__label">
                            Previous Post
                        </div>
                        <div class="nav__title">
                            创造 CANDY 主题，只为更好的交互
                        </div>
                    </div>
                </a>
            
        </div>
        <div class="nav__next">
            
        </div>
    </div>





</main>

            <footer class="footer">
    


    
    
    
        <span id="busuanzi_container_site_uv" hidden>
            <span></span>
            <span id="busuanzi_value_site_uv"></span>
            <span>Viewers</span>
            
        </span>
    
    
        <span id="busuanzi_container_site_pv" hidden>
            <span></span>
            <span id="busuanzi_value_site_pv"></span>
            <span>Views</span>
            
        </span>
    
 
 

 
    
        
        <p class="footer-copyright">
            Copyright © 2020&nbsp;-&nbsp;2021 <a href="/">安子璠的个人主页</a>
        </p>
    
    
    <p>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme - <a href="https://github.com/ChrAlpha/hexo-theme-cards" target="_blank">Cards</a></p>
</footer>

        </div>
        
    <script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script>
    <script>
        window.lazyLoadOptions = {
            elements_selector: ".lazy",
            threshold: 0
        };
    </script>
 

 
    <script>
        window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
        ga('create', 'UA-168668701-2', 'auto');
        ga('send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
 

 

 
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement('script');
            hm.src = 'https://hm.baidu.com/hm.js?cba64d0811724e0e4763bd8a13059f1a';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
 

  



 


    
 


    
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>

    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.4.1/dist/jquery.fancybox.min.css">

    
<script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.4.1/dist/jquery.fancybox.min.js"></script>

    <script>
        let lazyloadT = Boolean('true'),
            auto_fancybox = Boolean('true')
        if (auto_fancybox) {
            $(".post__content").find('img').each(function () {
                var element = document.createElement("a");
                $(element).attr("data-fancybox", "gallery");
                $(element).attr("href", $(this).attr("src"));
                if (lazyloadT) {
                    $(element).attr("href", $(this).attr("data-srcset"));
                }
                $(this).wrap(element);
            });
        } else {
            $(".post__content").find("fancybox").find('img').each(function () {
                var element = document.createElement("a");
                $(element).attr("data-fancybox", "gallery");
                $(element).attr("href", $(this).attr("src"));
                if (lazyloadT) {
                    $(element).attr("href", $(this).attr("data-srcset"));
                }
                $(this).wrap(element);
            });
        }
    </script>
 

 

 

 




    </body>
</html>
