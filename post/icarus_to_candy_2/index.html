<!doctype html><html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta><title>基于腾讯云，给你的 Icarus 博客配上 Twikoo 评论系统 - 安子璠的个人主页</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="安子璠的个人主页"><meta name="msapplication-TileImage" content="/img/favicon-32x32.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="安子璠的个人主页"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="舒服地畅所欲言很重要"><meta property="og:type" content="blog"><meta property="og:title" content="基于腾讯云，给你的 Icarus 博客配上 Twikoo 评论系统"><meta property="og:url" content="https://anzifan.com/post/icarus_to_candy_2/"><meta property="og:site_name" content="安子璠的个人主页"><meta property="og:description" content="舒服地畅所欲言很重要"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://static.anzifan.com/uPic/twikoo_Cover_light_1.png"><meta property="article:published_time" content="2020-12-29T21:02:43.102Z"><meta property="article:modified_time" content="2021-01-04T14:14:05.203Z"><meta property="article:author" content="安子璠"><meta property="article:tag" content="Hexo"><meta property="article:tag" content="博客主题"><meta property="article:tag" content="前端"><meta property="article:tag" content="评论"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://static.anzifan.com/uPic/twikoo_Cover_light_1.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://anzifan.com/post/icarus_to_candy_2/"},"headline":"安子璠的个人主页","image":["https://static.anzifan.com/uPic/twikoo_Cover_light_1.png"],"datePublished":"2020-12-29T21:02:43.102Z","dateModified":"2021-01-04T14:14:05.203Z","author":{"@type":"Person","name":"安子璠"},"description":"舒服地畅所欲言很重要"}</script><link rel="canonical" href="https://anzifan.com/post/icarus_to_candy_2/"><link rel="alternate" href="/atom.xml" title="安子璠的个人主页" type="application/atom+xml"><link rel="icon" href="/img/favicon-32x32.png"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?cba64d0811724e0e4763bd8a13059f1a";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer="defer"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-168668701-2" async></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-168668701-2")</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.2.0"></head><body class="is-3-column"><script type="text/javascript" src="/js/dark.js"></script><nav class="navbar navbar-main"><div class="container"><div class="navbar-menu"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo_small.png" alt="安子璠的个人主页" height="28"></a><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">存档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item dark" id="dark-nav" title="Dark Mode" href="javascript:;"><i class="fas fa-moon" id="dark-icon"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="controller"></div><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="https://static.anzifan.com/uPic/twikoo_Cover_light_1.png" alt="基于腾讯云，给你的 Icarus 博客配上 Twikoo 评论系统"><img class="fill_dark" src="https://static.anzifan.com/uPic/twikoo_Cover_dark_1.png" alt="基于腾讯云，给你的 Icarus 博客配上 Twikoo 评论系统"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item create-data"><i class="far fa-calendar-alt">&nbsp;&nbsp;</i><time datetime="2020-12-29T21:02:43.102Z" title="2020-12-29T21:02:43.102Z">2020-12-30</time>发表</span><span class="level-item cate"><i class="far fa-folder-open">  </i><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="level-item read-time"><i class="far fa-clock">  </i>15 分钟读完 (大约 2268 个字)</span><span class="level-item leancloud_visitors" id="/post/icarus_to_candy_2/" data-flag-title="基于腾讯云，给你的 Icarus 博客配上 Twikoo 评论系统"><i class="far fa-eye"></i>&nbsp;&nbsp;<span id="twikoo_visitors"><i class="fa fa-spinner fa-spin"></i></span> 次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">基于腾讯云，给你的 Icarus 博客配上 Twikoo 评论系统</h1><div class="content"><p></p><article class="message message-immersive is-info"><div class="message-body"><i class="fas fa-info-circle"></i> 本文已被 Twikoo <a target="_blank" rel="noopener" href="https://twikoo.js.org/quick-start.html#在-hexo-icarus-主题使用">官方文档</a>收录👌</div></article><p></p><blockquote><p>拖更是不好的。<a class="quote_src" href="https://anzifan.com">异次元de机智君</a></p></blockquote><article class="message is-info candy-series"><div class="message-header candy-series-header"><i class="fas fa-info-circle mr-2"></i><p>📚本系列文章，将分成四个板块更新</p></div><div class="message-body"><ol><li><a href="/post/icarus_to_candy_1/"><strong>基础设计修改</strong></a><span class="icon has-text-success"><i class="fas fa-check-square"></i></span></li><li><a href="/post/icarus_to_candy_2/"><strong>配置 Twikoo 评论</strong></a><span class="icon has-text-success"><i class="fas fa-check-square"></i></span></li><li>增加深色模式支持</li><li>其他细节与模块</li></ol></div></article><style>.candy-series-header{justify-content:start!important}.message.is-info.candy-series{width:50%;float:right;margin-left:20px;margin-bottom:11px!important}@media screen and (max-width:768px){.message.is-info.candy-series{width:100%;float:none;margin-left:0}}</style><p>太长的文章也是不好的，比如我之前有一篇 Windows 软件推荐文，因为内容太多，已经写了一个多月了，现在看到它就有些恶心（不过肯定会完成的）。所以这篇我会尝试加快脚步去介绍，毕竟 Twikoo 的中文文档目前也比较详细了，其实没什么可写的了，大佬们可以自己<a target="_blank" rel="noopener" href="https://twikoo.js.org">参考</a>。</p><p>闲话少说，这篇是 Candy 主题系列的第二篇，每个博客都需要的、<s>食之无味弃之可惜的</s>评论系统。当然 Candy 主题基于 Icarus 主题，所以对 <strong>Icarus 主题来说也是完全适用的</strong>。</p><h2 id="为什么选择-Twikoo？">为什么选择 Twikoo？</h2><p>其实 <a target="_blank" rel="noopener" href="https://www.imaegoo.com">iMaeGoo</a> 大佬在官方文档就把理由说的非常清楚了：</p><blockquote><p>一个<strong>简洁、安全、免费</strong>的静态网站评论系统，基于腾讯云开发。</p></blockquote><p>「简洁」、「安全」、「免费」、基于国内的云服务，对于一个主体语言是中文的博客来说，还需要更多理由吗？目前的评论系统现状是：「简洁」的，不够安全；「安全」的不一定免费；「免费」的不一定在国内网络环境能很好的访问。</p><h2 id="Twikoo-的特性">Twikoo 的特性</h2><p>作为一款「纯国产」的评论系统，Twikoo 很多特性对于国内博主真的很方便：</p><ol><li>采用免费的腾讯云开发，免去二次备案的时间成本；</li><li>通过云函数控制敏感信息，防止泄漏；</li><li>微信、QQ、邮件…… 多种提醒方式可选；</li><li>基于 Akismet 的反垃圾支持；</li><li>方便好用的评论管理系统和配置台，直接在博客评论区管理评论和配置其他信息；</li><li>博主标示、User Agent 显示、点赞系统、多级评论、支持图片、markdown、Katex 公式……；</li><li>活跃、友善的开发者和社区；</li></ol><p>除此之外，你还需要明白 Twikoo 是个正在成长中的评论系统，且更新频繁，你可以在这里浏览<a target="_blank" rel="noopener" href="https://github.com/imaegoo/twikoo/projects/1">开发计划</a>。另外，它已被腾讯云官方选为云开发优秀应用。</p><h2 id="让我们开始吧！">让我们开始吧！</h2><p>搭建 Twikoo 分两步：</p><ol><li>在本地的博客主题中配置 Twikoo；</li><li>在腾讯云配置环境和云函数；</li></ol><p>在此感谢作者 <a target="_blank" rel="noopener" href="https://www.imaegoo.com">iMaeGoo</a> ，本教程基于它的<a target="_blank" rel="noopener" href="https://github.com/imaegoo/hexo-theme-icarus">魔改版 Icarus</a>，且适用于 Icarus 4.1.1。</p><h3 id="在本地的博客主题中配置-Twikoo">在本地的博客主题中配置 Twikoo</h3><p><strong>第一步：</strong></p><p>在主题目录下 <code>layout/comment</code> 中创建 <code>twikoo.jsx</code> 并键入：</p><pre><div class="caption"><span>twikoo.jsx</span></div><code class="hljs jsx"><span class="hljs-keyword">const</span> &#123; Component, Fragment &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;inferno&#x27;</span>);
<span class="hljs-keyword">const</span> &#123; cacheComponent &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;hexo-component-inferno/lib/util/cache&#x27;</span>);

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Twikoo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>&#123;
  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;
    <span class="hljs-keyword">const</span> &#123;
      envId,
      jsUrl,
    &#125; = <span class="hljs-built_in">this</span>.props;
    <span class="hljs-keyword">const</span> js = <span class="hljs-string">`twikoo.init(&#123;</span>
<span class="hljs-string">      envId: &#x27;<span class="hljs-subst">$&#123;envId&#125;</span>&#x27;</span>
<span class="hljs-string">    &#125;);`</span>;
    <span class="hljs-keyword">return</span> (
      &lt;Fragment&gt;
        &lt;div id=<span class="hljs-string">&quot;twikoo&quot;</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;content twikoo&quot;</span>&gt;&lt;/div&gt;
        &lt;script src=&#123;jsUrl&#125;&gt;&lt;/script&gt;
        &lt;script dangerouslySetInnerHTML=&#123;&#123; <span class="hljs-attr">__html</span>: js &#125;&#125;&gt;&lt;/script&gt;
      &lt;/Fragment&gt;
    );
  &#125;
&#125;

Twikoo.Cacheable = cacheComponent(Twikoo, <span class="hljs-string">&#x27;comment.twikoo&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> &#123;
  <span class="hljs-keyword">const</span> &#123; comment &#125; = props;
  <span class="hljs-keyword">return</span> &#123;
    envId: comment.envId,
    jsUrl: <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js&#x27;</span>,
  &#125;;
&#125;);

<span class="hljs-built_in">module</span>.exports = Twikoo;</code></pre><p><strong>第二步：</strong></p><p>在 <code>include/shema/comment</code> 中创建 <code>twikoo.json</code> ，并键入：</p><pre><div class="caption"><span>twikoo.json</span></div><code class="hljs json">&#123;
  <span class="hljs-attr">&quot;$schema&quot;</span>: <span class="hljs-string">&quot;http://json-schema.org/draft-07/schema#&quot;</span>,
  <span class="hljs-attr">&quot;$id&quot;</span>: <span class="hljs-string">&quot;/comment/twikoo.json&quot;</span>,
  <span class="hljs-attr">&quot;description&quot;</span>: <span class="hljs-string">&quot;Twikoo comment plugin configurations&quot;</span>,
  <span class="hljs-attr">&quot;type&quot;</span>: <span class="hljs-string">&quot;object&quot;</span>,
  <span class="hljs-attr">&quot;properties&quot;</span>: &#123;
    <span class="hljs-attr">&quot;type&quot;</span>: &#123;
      <span class="hljs-attr">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>,
      <span class="hljs-attr">&quot;const&quot;</span>: <span class="hljs-string">&quot;twikoo&quot;</span>
    &#125;,
    <span class="hljs-attr">&quot;envId&quot;</span>: &#123;
      <span class="hljs-attr">&quot;type&quot;</span>: <span class="hljs-string">&quot;string&quot;</span>,
      <span class="hljs-attr">&quot;description&quot;</span>: <span class="hljs-string">&quot;envId from Tencent CloudBase&quot;</span>
    &#125;
  &#125;,
  <span class="hljs-attr">&quot;required&quot;</span>: [<span class="hljs-string">&quot;type&quot;</span>, <span class="hljs-string">&quot;envId&quot;</span>]
&#125;</code></pre><p><strong>第三步：</strong></p><p>在 <code>include/schema/common/comment.json</code> 中添加 <code>twikoo.json</code> 的 <code>$ref</code>：</p><pre><div class="caption"><span>comment.json</span></div><code class="hljs diff">        &#125;,
         &#123;
             &quot;$ref&quot;: &quot;/comment/valine.json&quot;
<span class="hljs-addition">+        &#125;,</span>
<span class="hljs-addition">+        &#123;</span>
<span class="hljs-addition">+            &quot;$ref&quot;: &quot;/comment/twikoo.json&quot;</span>
         &#125;
     ]
 &#125;</code></pre><p><strong>第四步：</strong></p><p>现在你只需要在 <code>_config.yml</code> 文件中 <code>comment</code> 部分添加 Twikoo 即可，在 envId 后面请填写你自己的腾讯云环境 ID，这个 ID 你会在下一个板块了解如何获取，现在可以空着：</p><pre><code class="hljs yml"><span class="hljs-attr">comment:</span>
	<span class="hljs-attr">type:</span> <span class="hljs-string">twikoo</span>
	<span class="hljs-attr">envId:</span> <span class="hljs-string">xxxxxxxxxxxxxxx</span> <span class="hljs-comment"># 腾讯云环境id</span>
	<span class="hljs-attr">jsUrl:</span> <span class="hljs-string">https://cdn.jsdelivr.net/npm/twikoo@0.4.5/dist/twikoo.all.min.js</span></code></pre><p>这里需要注意的是最后的 <code>jsUrl</code> ，你会发现 twikoo 后面有 @ 版本号。保险起见，目前 twikoo 是需要你手动去更新这个版本号的。如果你不加版本号，这意味着每次都请求最新版本，你可能就必须得及时更新后台云函数了。</p><p>感谢评论区提醒👇：</p><blockquote><p><code>jsUrl</code>中的版本号应该与云函数版本号保持一致<a class="quote_src" href="/post/icarus_to_candy_2/#21ded5cb5ff2db4903ab9cc23c8c4c20">Higurashi-kagome</a></p></blockquote><p>同样，<a target="_blank" rel="noopener" href="https://twikoo.js.org/faq.html#%E5%A6%82%E4%BD%95%E6%9B%B4%E6%96%B0-twikoo-%E7%89%88%E6%9C%AC">更新版本</a>也很简单，后台更新云函数后，改版本号即可。（这里有个坑，建议每次更新版本先删除 <code>node_modules</code> 再点击保存并安装依赖）</p><p><strong>第五步（可选）：</strong></p><p>给博客换上 Twikoo 访客计数。在 <code>layout/common/article.jsx</code> 中修改 <code>&#123;/* Visitor counter */&#125;</code> 部分：</p><pre><div class="caption"><span>article.jsx</span></div><code class="hljs diff"><span class="hljs-addition">+ &#123;!index ? &lt;span id=&#123;url_for(page.link || page.path)&#125; class=&quot;level-item twikoo_visitors&quot; data-flag-title=&#123;page.title&#125; dangerouslySetInnerHTML=&#123;&#123;</span>
<span class="hljs-deletion">-	&#123;!index &amp;&amp; plugins &amp;&amp; plugins.busuanzi === true ? &lt;span class=&quot;level-item&quot; id=&quot;busuanzi_container_page_pv&quot; dangerouslySetInnerHTML=&#123;&#123; __html: _p(&#x27;plugin.visit_count&#x27;, &#x27;&lt;span id=&quot;busuanzi_value_page_pv&quot;&gt;0&lt;/span&gt;&#x27;)</span>
<span class="hljs-addition">+	__html: &#x27;&lt;i class=&quot;far fa-eye&quot;&gt;&lt;/i&gt;&#x27; + _p(&#x27;plugin.visit_count&#x27;, &#x27;&amp;nbsp;&amp;nbsp;&lt;span id=&quot;twikoo_visitors&quot;&gt;&lt;i class=&quot;fa fa-spinner fa-spin&quot;&gt;&lt;/i&gt;&lt;/span&gt;&#x27;)</span>
&#125;&#125;&gt;&lt;/span&gt; : null&#125;</code></pre><p>本地需要修改的部分完成✅</p><h3 id="在腾讯云配置环境和云函数">在腾讯云配置环境和云函数</h3><h3 id="云环境初始化">云环境初始化</h3><p>我们先来初始化腾讯云环境，使用云开发作为评论后台，每个云开发用户均长期享受 1 个免费的标准型基础版 1 资源套餐，换句话说对于大部分博主来说是免费的。</p><ol><li><a target="_blank" rel="noopener" href="https://curl.qcloud.com/KnnJtUom">注册云开发CloudBase</a></li><li>进入<a target="_blank" rel="noopener" href="https://console.cloud.tencent.com/tcb/">云开发控制台</a>，新建环境，请按需配置环境：<ul><li>环境名称自由填写</li><li>推荐选择计费方式<code>包年包月</code>，套餐版本<code>基础班 1</code>，超出免费额度不会收费</li><li>如果提示选择“应用模板”，请选择“空模板”</li></ul></li><li>进入<a target="_blank" rel="noopener" href="https://console.cloud.tencent.com/tcb/env/login">环境-登录授权</a>，启用“匿名登录”；</li><li>进入<a target="_blank" rel="noopener" href="https://console.cloud.tencent.com/tcb/env/safety">环境-安全配置</a>，将网站域名添加到“WEB安全域名”；</li><li>复制环境 ID，在上一板块中的第四步填写。</li></ol><h3 id="配置云函数">配置云函数</h3><p>接下来配置云函数。恭喜你赶上了 Twikoo 的好时代，目前支持的配置方式很多，且更简单，不需要再去踩脚本安装的坑了。</p><p>不是我偷懒，这部分官方文档其实说的非常完善且精简了，大家可以直接阅读官方文档的<a target="_blank" rel="noopener" href="https://twikoo.js.org/quick-start.html#%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8">手把手教程</a>，我这里就引用一下吧：</p><blockquote><ol><li>进入<a target="_blank" rel="noopener" href="https://console.cloud.tencent.com/tcb/scf/index">环境-云函数</a>，点击“新建云函数”</li><li>函数名称请填写：<code>twikoo</code>，创建方式请选择：<code>空白函数</code>，运行环境请选择：<code>Nodejs 10.15</code>，函数内存请选择：<code>128MB</code>，点击“下一步”</li><li>打开 <a target="_blank" rel="noopener" href="https://imaegoo.coding.net/public/twikoo/twikoo/git/files/dev/src/function/twikoo/index.js">index.js</a>，全选代码、复制、粘贴到“函数代码”输入框中，点击“确定”</li><li>创建完成后，点击“twikoo&quot;进入云函数详情页，进入“函数代码”标签，点击“文件 - 新建文件”，输入 <code>package.json</code>，回车</li><li>打开 <a target="_blank" rel="noopener" href="https://imaegoo.coding.net/public/twikoo/twikoo/git/files/dev/src/function/twikoo/package.json">package.json</a>，全选代码、复制、粘贴到代码框中，点击“保存并安装依赖”</li></ol></blockquote><p>在这里只有一个建议，尽量采用「① 网页方式」，不要用脚本方式！不要用脚本方式！不要用脚本方式！尤其是在 macOS 下，「授权云开发环境」这步会有些 bug。</p><hr><p>成功了🎉！你给自己的 Icarus 博客换上了崭崭新的 Twkoo 评论，接下来看看如何管理和配置。</p><h2 id="配置、管理你的-Twikoo-评论系统">配置、管理你的 Twikoo 评论系统</h2><p>我们来开启管理面板：</p><ol><li>进入<a target="_blank" rel="noopener" href="https://console.cloud.tencent.com/tcb/env/login">环境-登录授权</a>，点击“自定义登录”右边的“私钥下载”，下载私钥文件</li><li>用文本编辑器打开私钥文件，复制全部内容</li><li>你只需要来到最下面的评论区，点击小齿轮<i class="fas fa-cog"></i> 即可配置更多设置，当然博主是需要登录的，初次进入需要粘贴私钥文件内容，并设置管理员密码。</li></ol><p>至于，通知提醒一类的功能，在控制面板中也有相应的引导，我就不在这里废话了。有什么问题欢迎和我交流或查看<a target="_blank" rel="noopener" href="https://twikoo.js.org/faq.html">官方解答</a>。</p><p>就这样，结束～</p><style>.content{text-align:left!important}</style><a class="tag is-medium" href="mailto:541297173@qq.com?subject=「创造 CANDY 主题，只为更好的交互」一文的封面图授权申请" target="_blank"><span class="icon" style="word-wrap:break-word"><i class="fas fa-palette"></i></span> 原创封面图，使用需<b>授权</b>，请勿盗用</a></div><div class="article-licensing box"><div class="licensing-title"><p>基于腾讯云，给你的 Icarus 博客配上 Twikoo 评论系统</p><p><a href="https://anzifan.com/post/icarus_to_candy_2/">https://anzifan.com/post/icarus_to_candy_2/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>安子璠</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2020-12-30</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-01-04</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><span class="article-tags is-size-7 last_update"><i class="fas fa-wrench">&nbsp;&nbsp;</i><time datetime="2021-01-04T14:14:05.203Z" title="2021-01-04T14:14:05.203Z">2021-01-04</time>更新</span><div class="article-tags is-size-7 mb-4"><a class="link-muted mr-2" rel="tag" href="/tags/Hexo/">Hexo</a><a class="link-muted mr-2" rel="tag" href="/tags/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98/">博客主题</a><a class="link-muted mr-2" rel="tag" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a><a class="link-muted mr-2" rel="tag" href="/tags/%E8%AF%84%E8%AE%BA/">评论</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=5f60d4110658220012f2d898&amp;product=inline-share-buttons" defer="defer"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay.JPG" alt="支付宝"></span></a><a class="button donate" data-type="paypal" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="541297173@qq.com"><input type="hidden" name="currency_code" value="USD"></form><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechat.JPG" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/post/ios_shortcuts_wallpaper/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">一日一技｜在 iOS 中自定义自动切换的浅色/深色模式双壁纸</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/post/macOS_control_center/"><span class="level-item">一日一技？「扩展」并重新认识 macOS 控制中心</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="content twikoo" id="twikoo"></div><script src="https://cdn.jsdelivr.net/npm/twikoo@0.5.1/dist/twikoo.all.min.js"></script><script>twikoo.init({envId:"twikoo-7gjtx7whfd732c11"})</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/portrait.PNG" alt="异次元de机智君💯"></figure><p class="title is-size-4 is-block" style="line-height:inherit">异次元de机智君💯</p><p class="is-size-6 is-block">💻｜🎨｜🎮｜⚡️</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>南京/Seattle</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">9</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">20</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://weibo.com/6583804362" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/mannycooper"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="少数派" href="https://sspai.com/u/mannycooper/updates"><img class="social_icon" src="/img/sspai.svg"></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="站酷" href="https://www.zcool.com.cn/u/15715679"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://www.ruitz.cn" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">rtz的博客</span></span><span class="level-right"><span class="level-item tag">www.ruitz.cn</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=anzifan&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="anzifan" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div><p class="help">Powered by Google FeedBurner</p></form></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#为什么选择-Twikoo？"><span class="level-left"><span class="level-item">1</span><span class="level-item">为什么选择 Twikoo？</span></span></a></li><li><a class="level is-mobile" href="#Twikoo-的特性"><span class="level-left"><span class="level-item">2</span><span class="level-item">Twikoo 的特性</span></span></a></li><li><a class="level is-mobile" href="#让我们开始吧！"><span class="level-left"><span class="level-item">3</span><span class="level-item">让我们开始吧！</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#在本地的博客主题中配置-Twikoo"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">在本地的博客主题中配置 Twikoo</span></span></a></li><li><a class="level is-mobile" href="#在腾讯云配置环境和云函数"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">在腾讯云配置环境和云函数</span></span></a></li><li><a class="level is-mobile" href="#云环境初始化"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">云环境初始化</span></span></a></li><li><a class="level is-mobile" href="#配置云函数"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">配置云函数</span></span></a></li></ul></li><li><a class="level is-mobile" href="#配置、管理你的-Twikoo-评论系统"><span class="level-left"><span class="level-item">4</span><span class="level-item">配置、管理你的 Twikoo 评论系统</span></span></a></li></ul></div></div><style>#toc .menu-list>li>a.is-active+.menu-list{display:block}#toc .menu-list>li>a+.menu-list{display:none}</style><script src="/js/toc.js" defer="defer"></script></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><figure class="media-left"><a class="image" href="/post/ios_shortcuts_wallpaper/"><img class="fill" src="https://cdn.sspai.com/2021/01/03/6f66128e87ae0e53e762bff7c44f92e3.png" alt="一日一技｜在 iOS 中自定义自动切换的浅色/深色模式双壁纸"><img class="fill_dark" src="https://cdn.sspai.com/2021/01/03/6f66128e87ae0e53e762bff7c44f92e3.png" alt="一日一技｜在 iOS 中自定义自动切换的浅色/深色模式双壁纸"></a></figure><div class="media-content"><p class="date"><time datetime="2021-01-02T14:40:38.710Z">2021-01-02</time></p><p class="categories"><a href="/categories/Power/">Power+</a></p><p class="title"><a href="/post/ios_shortcuts_wallpaper/">一日一技｜在 iOS 中自定义自动切换的浅色/深色模式双壁纸</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/post/icarus_to_candy_2/"><img class="fill" src="https://static.anzifan.com/uPic/twikoo_Thumbnail_light_1.png" alt="基于腾讯云，给你的 Icarus 博客配上 Twikoo 评论系统"><img class="fill_dark" src="https://static.anzifan.com/uPic/twikoo_Thumbnail_dark_1.png" alt="基于腾讯云，给你的 Icarus 博客配上 Twikoo 评论系统"></a></figure><div class="media-content"><p class="date"><time datetime="2020-12-29T21:02:43.102Z">2020-12-30</time></p><p class="categories"><a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p><p class="title"><a href="/post/icarus_to_candy_2/">基于腾讯云，给你的 Icarus 博客配上 Twikoo 评论系统</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/post/macOS_control_center/"><img class="fill" src="https://cdn.sspai.com/2020/12/29/e8413b09a7a6df2dd035fe64782f9e20.png?imageMogr2/auto-orient/quality/95/thumbnail/!1420x708r/gravity/Center/crop/1420x708/interlace/1" alt="一日一技？「扩展」并重新认识 macOS 控制中心"><img class="fill_dark" src="https://cdn.sspai.com/2020/12/29/e8413b09a7a6df2dd035fe64782f9e20.png?imageMogr2/auto-orient/quality/95/thumbnail/!1420x708r/gravity/Center/crop/1420x708/interlace/1" alt="一日一技？「扩展」并重新认识 macOS 控制中心"></a></figure><div class="media-content"><p class="date"><time datetime="2020-12-29T20:53:18.722Z">2020-12-30</time></p><p class="categories"><a href="/categories/Power/">Power+</a></p><p class="title"><a href="/post/macOS_control_center/">一日一技？「扩展」并重新认识 macOS 控制中心</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/post/app_overlap/"><img class="fill" src="https://cdn.sspai.com/2020/12/28/fc5f49e579c31c077360851e41cf3992.png?imageMogr2/auto-orient/quality/95/thumbnail/!1420x708r/gravity/Center/crop/1420x708/interlace/1" alt="Overlap：最实用的智能世界时钟，助你和跨国团队寻找完美时间"><img class="fill_dark" src="https://cdn.sspai.com/2020/12/28/fc5f49e579c31c077360851e41cf3992.png?imageMogr2/auto-orient/quality/95/thumbnail/!1420x708r/gravity/Center/crop/1420x708/interlace/1" alt="Overlap：最实用的智能世界时钟，助你和跨国团队寻找完美时间"></a></figure><div class="media-content"><p class="date"><time datetime="2020-12-29T20:38:09.291Z">2020-12-30</time></p><p class="categories"><a href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></p><p class="title"><a href="/post/app_overlap/">Overlap：最实用的智能世界时钟，助你和跨国团队寻找完美时间</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/post/one_piece_1000/"><img class="fill" src="https://static.anzifan.com/uPic/one_piece_1000_lufy.png" alt="海贼王原作 1000 话纪念！"><img class="fill_dark" src="https://static.anzifan.com/uPic/one_piece_1000_lufy.png" alt="海贼王原作 1000 话纪念！"></a></figure><div class="media-content"><p class="date"><time datetime="2020-12-29T12:00:00.000Z">2020-12-29</time></p><p class="categories"><a href="/categories/%E4%B8%80%E8%A8%80/">一言</a></p><p class="title"><a href="/post/one_piece_1000/">海贼王原作 1000 话纪念！</a></p></div></article></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Power/"><span class="level-start"><span class="level-item">Power+</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E4%B8%80%E8%A8%80/"><span class="level-start"><span class="level-item">一言</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">工具</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%8A%80%E6%9C%AF/"><span class="level-start"><span class="level-item">技术</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Setapp/"><span class="tag">Setapp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Windows/"><span class="tag">Windows</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iPadOS/"><span class="tag">iPadOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%80%E6%97%A5%E4%B8%80%E6%8A%80/"><span class="tag">一日一技</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%96%E7%95%8C%E6%97%B6%E9%92%9F/"><span class="tag">世界时钟</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%A4%E4%BA%92%E8%AE%BE%E8%AE%A1/"><span class="tag">交互设计</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86/"><span class="tag">信息管理</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF/"><span class="tag">前端</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98/"><span class="tag">博客主题</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A3%81%E7%BA%B8/"><span class="tag">壁纸</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BF%AB%E6%8D%B7%E6%8C%87%E4%BB%A4/"><span class="tag">快捷指令</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%88%E7%8E%87/"><span class="tag">效率</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B5%B7%E8%B4%BC%E7%8E%8B/"><span class="tag">海贼王</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%BC%AB%E7%94%BB/"><span class="tag">漫画</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%B3%BB%E7%BB%9F%E6%9D%82%E8%B0%88/"><span class="tag">系统杂谈</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AF%84%E8%AE%BA/"><span class="tag">评论</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/"><span class="tag">软件推荐</span><span class="tag">4</span></a></div></div></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">一月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">十二月 2020</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">十一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo_small.png" alt="安子璠的个人主页" height="28"></a><p class="is-size-7"><span>&copy; 2020-2021 安子璠</span><br>Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> with <a href="https://github.com/MannyCooper/hexo-theme-candy" target="_blank" rel="noopener">Candy</a><br><i class="fas fa-globe-asia" style=""></i> <a target="_blank" rel="noopener" href="http://beian.miit.gov.cn">苏ICP备 2020060340 号</a><br><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=32011202000528"><img src="/img/beian.png" style="height:14px;margin-left:-1px;margin-right:-1px;margin-top:1.2px"> 苏公网安备 32011202000528 号</a><br><span id="busuanzi_container_site_uv">共 <span id="busuanzi_value_site_uv">0</span> 个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Deployed on Vercel" href="https://vercel.com/"><i class="fas fa-caret-square-up"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Deployed on Alibaba Cloud" href="https://www.aliyun.com"><i class="fas fa-server"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("zh-CN")</script><script>var IcarusThemeSettings={article:{highlight:{clipboard:!0,fold:""}}}</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer="defer"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer="defer"></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer="defer"></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer="defer"></script><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now</a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer="defer"></script><script>window.addEventListener("load",function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"object-fit"})})</script><script src="/js/main.js" defer="defer"></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer="defer"></script><script>document.addEventListener("DOMContentLoaded",function(){loadInsight({contentUrl:"/content.json"},{hint:"想要查找什么...",untitled:"(无标题)",posts:"文章",pages:"页面",categories:"分类",tags:"标签"})})</script></body></html>